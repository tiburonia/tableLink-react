
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë™ì  ë§ˆì»¤ ì‹œìŠ¤í…œ ë°ëª¨</title>
    <script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=2da5b80696f4403357706514d7c56b70&libraries=services"></script>
    <style>
        body {
            margin: 0;
            font-family: 'Noto Sans KR', sans-serif;
        }
        #map {
            width: 100%;
            height: 100vh;
        }
        .info-panel {
            position: absolute;
            top: 20px;
            left: 20px;
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
            max-width: 300px;
        }
        .level-info {
            font-weight: bold;
            margin-bottom: 10px;
        }
        .policy-list {
            font-size: 12px;
            color: #666;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <div class="info-panel">
        <div class="level-info">í˜„ì¬ ë ˆë²¨: <span id="current-level">3</span></div>
        <div class="policy-list">
            <div><strong>ë ˆë²¨ 1-5:</strong> ê°œë³„ ë§¤ì¥ ë§ˆì»¤</div>
            <div><strong>ë ˆë²¨ 6-7:</strong> ì/ë©´/ë™ ì§‘ê³„</div>
            <div><strong>ë ˆë²¨ 8-9:</strong> ì‹œ/êµ°/êµ¬ ì§‘ê³„</div>
            <div><strong>ë ˆë²¨ 10+:</strong> ì‹œ/ë„ ì§‘ê³„</div>
        </div>
    </div>

    <script>
        // ë”ë¯¸ ë§¤ì¥ ë°ì´í„°
        const dummyStores = [
            { id: 1, name: 'ê°•ë‚¨ ì¹´í˜', address: 'ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123 (ì—­ì‚¼ë™)', coord: { lat: 37.5665, lng: 127.0780 } },
            { id: 2, name: 'í™ëŒ€ í', address: 'ì„œìš¸íŠ¹ë³„ì‹œ ë§ˆí¬êµ¬ í™ìµë¡œ 456 (í™ìµë™)', coord: { lat: 37.5563, lng: 126.9236 } },
            { id: 3, name: 'ëª…ë™ ì‹ë‹¹', address: 'ì„œìš¸íŠ¹ë³„ì‹œ ì¤‘êµ¬ ëª…ë™ê¸¸ 789 (ëª…ë™)', coord: { lat: 37.5636, lng: 126.9834 } },
            { id: 4, name: 'ì´íƒœì› ë°”', address: 'ì„œìš¸íŠ¹ë³„ì‹œ ìš©ì‚°êµ¬ ì´íƒœì›ë¡œ 321 (ì´íƒœì›ë™)', coord: { lat: 37.5420, lng: 126.9947 } },
            { id: 5, name: 'ì ì‹¤ ì¹˜í‚¨ì§‘', address: 'ì„œìš¸íŠ¹ë³„ì‹œ ì†¡íŒŒêµ¬ ì˜¬ë¦¼í”½ë¡œ 654 (ì ì‹¤ë™)', coord: { lat: 37.5133, lng: 127.1028 } },
            { id: 6, name: 'ë¶€ì‚° í•´ìš´ëŒ€ì ', address: 'ë¶€ì‚°ê´‘ì—­ì‹œ í•´ìš´ëŒ€êµ¬ í•´ìš´ëŒ€í•´ë³€ë¡œ 111 (ì¤‘ë™)', coord: { lat: 35.1595, lng: 129.1600 } },
            { id: 7, name: 'ë¶€ì‚°ì—­ ë§¤ì¥', address: 'ë¶€ì‚°ê´‘ì—­ì‹œ ë™êµ¬ ì¤‘ì•™ëŒ€ë¡œ 222 (ì´ˆëŸ‰ë™)', coord: { lat: 35.1168, lng: 129.0403 } },
            { id: 8, name: 'ëŒ€êµ¬ ë™ì„±ë¡œì ', address: 'ëŒ€êµ¬ê´‘ì—­ì‹œ ì¤‘êµ¬ ë™ì„±ë¡œ 333 (ì‚¼ë•ë™)', coord: { lat: 35.8714, lng: 128.5911 } },
            { id: 9, name: 'ì¸ì²œ ì†¡ë„ì ', address: 'ì¸ì²œê´‘ì—­ì‹œ ì—°ìˆ˜êµ¬ ì†¡ë„êµ­ì œëŒ€ë¡œ 444 (ì†¡ë„ë™)', coord: { lat: 37.3895, lng: 126.6440 } },
            { id: 10, name: 'ìˆ˜ì› ì˜í†µì ', address: 'ê²½ê¸°ë„ ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ì˜í†µë¡œ 555 (ì˜í†µë™)', coord: { lat: 37.2572, lng: 127.0456 } },
            { id: 11, name: 'ì„±ë‚¨ ë¶„ë‹¹ì ', address: 'ê²½ê¸°ë„ ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ ë¶„ë‹¹ë¡œ 666 (ì„œí˜„ë™)', coord: { lat: 37.3838, lng: 127.1230 } },
            { id: 12, name: 'ëŒ€ì „ ìœ ì„±ì ', address: 'ëŒ€ì „ê´‘ì—­ì‹œ ìœ ì„±êµ¬ ëŒ€í•™ë¡œ 777 (êµ¬ì„±ë™)', coord: { lat: 36.3504, lng: 127.2992 } },
            { id: 13, name: 'ê´‘ì£¼ ì¶©ì¥ë¡œì ', address: 'ê´‘ì£¼ê´‘ì—­ì‹œ ë™êµ¬ ì¶©ì¥ë¡œ 888 (ì¶©ì¥ë™)', coord: { lat: 35.1495, lng: 126.9204 } },
            { id: 14, name: 'ìš¸ì‚° ë‚¨êµ¬ì ', address: 'ìš¸ì‚°ê´‘ì—­ì‹œ ë‚¨êµ¬ ì‚¼ì‚°ë¡œ 999 (ì‚¼ì‚°ë™)', coord: { lat: 35.5372, lng: 129.3114 } },
            { id: 15, name: 'ì°½ì› ìƒë‚¨ì ', address: 'ê²½ìƒë‚¨ë„ ì°½ì›ì‹œ ì˜ì°½êµ¬ ì›ì´ëŒ€ë¡œ 101 (ìƒë‚¨ë™)', coord: { lat: 35.2281, lng: 128.6811 } },
            { id: 16, name: 'ì „ì£¼ í•œì˜¥ë§ˆì„ì ', address: 'ì „ë¼ë¶ë„ ì „ì£¼ì‹œ ì™„ì‚°êµ¬ ê¸°ë¦°ëŒ€ë¡œ 202 (êµë™)', coord: { lat: 35.8150, lng: 127.1530 } },
            { id: 17, name: 'ì²­ì£¼ ìƒë‹¹ì ', address: 'ì¶©ì²­ë¶ë„ ì²­ì£¼ì‹œ ìƒë‹¹êµ¬ ìƒë‹¹ë¡œ 303 (ì„œë¬¸ë™)', coord: { lat: 36.6358, lng: 127.4913 } },
            { id: 18, name: 'ì²œì•ˆ ì‹ ë¶€ì ', address: 'ì¶©ì²­ë‚¨ë„ ì²œì•ˆì‹œ ë™ë‚¨êµ¬ ì‹ ë¶€ë¡œ 404 (ì‹ ë¶€ë™)', coord: { lat: 36.8151, lng: 127.1139 } },
            { id: 19, name: 'í¬í•­ ì¤‘ì•™ì ', address: 'ê²½ìƒë¶ë„ í¬í•­ì‹œ ë¶êµ¬ ì¤‘ì•™ë¡œ 505 (ì¤‘ì•™ë™)', coord: { lat: 36.0190, lng: 129.3435 } },
            { id: 20, name: 'ì œì£¼ ì—°ë™ì ', address: 'ì œì£¼íŠ¹ë³„ìì¹˜ë„ ì œì£¼ì‹œ ì—°ë™ 606ë²ˆì§€', coord: { lat: 33.4996, lng: 126.5312 } }
        ];

        // ë”ë¯¸ ë³„ì  ì¡°íšŒ í•¨ìˆ˜
        window.loadStoreRatingAsync = async function(storeId) {
            return {
                ratingAverage: (Math.random() * 4 + 1).toFixed(1),
                reviewCount: Math.floor(Math.random() * 100)
            };
        };

        // ë”ë¯¸ ë§¤ì¥ ë Œë”ë§ í•¨ìˆ˜
        window.renderStore = function(store) {
            alert(`ë§¤ì¥ ìƒì„¸: ${store.name}\nì£¼ì†Œ: ${store.address}`);
        };

        // ë§ˆì»¤ ë§¤ë‹ˆì € ë¡œë“œ (ì‹¤ì œ í”„ë¡œì íŠ¸ íŒŒì¼ ì‚¬ìš©)
        const script = document.createElement('script');
        script.src = 'TLG/pages/main/modules/mapMarkerManager.js';
        document.head.appendChild(script);

        script.onload = function() {
            // ì§€ë„ ì´ˆê¸°í™”
            const container = document.getElementById('map');
            const options = {
                center: new kakao.maps.LatLng(37.5665, 126.9780),
                level: 8
            };
            const map = new kakao.maps.Map(container, options);

            // ë ˆë²¨ í‘œì‹œ ì—…ë°ì´íŠ¸
            function updateLevelDisplay() {
                document.getElementById('current-level').textContent = map.getLevel();
            }

            // ì§€ë„ ë ˆë²¨ ë³€ê²½ ì´ë²¤íŠ¸
            kakao.maps.event.addListener(map, 'zoom_changed', updateLevelDisplay);
            updateLevelDisplay();

            // ë™ì  ë§ˆì»¤ ì‹œìŠ¤í…œ ì´ˆê¸°í™”
            setTimeout(() => {
                console.log('ğŸš€ ë°ëª¨: ë™ì  ë§ˆì»¤ ì‹œìŠ¤í…œ ì´ˆê¸°í™”');
                window.MapMarkerManager.initMapWithMarkers(map, dummyStores);
            }, 1000);
        };
    </script>
</body>
</html>
