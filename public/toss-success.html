"},
  {"line": 2, "content": "<!DOCTYPE html>"},
  {"line": 3, "content": "<html lang=\"ko\">"},
  {"line": 4, "content": "<head>"},
  {"line": 5, "content": "    <meta charset=\"UTF-8\">"},
  {"line": 6, "content": "    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">"},
  {"line": 7, "content": "    <title>ê²°ì œ ì™„ë£Œ - TableLink</title>"},
  {"line": 8, "content": "    <style>"},
  {"line": 9, "content": "        * {"},
  {"line": 10, "content": "            margin: 0;"},
  {"line": 11, "content": "            padding: 0;"},
  {"line": 12, "content": "            box-sizing: border-box;"},
  {"line": 13, "content": "        }"},
  {"line": 14, "content": ""},
  {"line": 15, "content": "        body {"},
  {"line": 16, "content": "            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;"},
  {"line": 17, "content": "            background: linear-gradient(135deg, #f0f9ff 0%, #e0e7ff 100%);"},
  {"line": 18, "content": "            display: flex;"},
  {"line": 19, "content": "            align-items: center;"},
  {"line": 20, "content": "            justify-content: center;"},
  {"line": 21, "content": "            min-height: 100vh;"},
  {"line": 22, "content": "            padding: 20px;"},
  {"line": 23, "content": "        }"},
  {"line": 24, "content": ""},
  {"line": 25, "content": "        .container {"},
  {"line": 26, "content": "            background: white;"},
  {"line": 27, "content": "            border-radius: 16px;"},
  {"line": 28, "content": "            padding: 40px;"},
  {"line": 29, "content": "            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);"},
  {"line": 30, "content": "            text-align: center;"},
  {"line": 31, "content": "            max-width: 400px;"},
  {"line": 32, "content": "            width: 100%;"},
  {"line": 33, "content": "        }"},
  {"line": 34, "content": ""},
  {"line": 35, "content": "        .success-icon {"},
  {"line": 36, "content": "            font-size: 64px;"},
  {"line": 37, "content": "            margin-bottom: 20px;"},
  {"line": 38, "content": "            animation: bounce 1s ease-in-out;"},
  {"line": 39, "content": "        }"},
  {"line": 40, "content": ""},
  {"line": 41, "content": "        @keyframes bounce {"},
  {"line": 42, "content": "            0%, 20%, 53%, 80%, 100% {"},
  {"line": 43, "content": "                transform: translate3d(0,0,0);"},
  {"line": 44, "content": "            }"},
  {"line": 45, "content": "            40%, 43% {"},
  {"line": 46, "content": "                transform: translate3d(0, -10px, 0);"},
  {"line": 47, "content": "            }"},
  {"line": 48, "content": "            70% {"},
  {"line": 49, "content": "                transform: translate3d(0, -5px, 0);"},
  {"line": 50, "content": "            }"},
  {"line": 51, "content": "        }"},
  {"line": 52, "content": ""},
  {"line": 53, "content": "        h1 {"},
  {"line": 54, "content": "            color: #1e293b;"},
  {"line": 55, "content": "            margin-bottom: 16px;"},
  {"line": 56, "content": "            font-size: 24px;"},
  {"line": 57, "content": "        }"},
  {"line": 58, "content": ""},
  {"line": 59, "content": "        .loading {"},
  {"line": 60, "content": "            color: #64748b;"},
  {"line": 61, "content": "            margin-bottom: 20px;"},
  {"line": 62, "content": "        }"},
  {"line": 63, "content": ""},
  {"line": 64, "content": "        .spinner {"},
  {"line": 65, "content": "            display: inline-block;"},
  {"line": 66, "content": "            width: 20px;"},
  {"line": 67, "content": "            height: 20px;"},
  {"line": 68, "content": "            border: 2px solid #e2e8f0;"},
  {"line": 69, "content": "            border-radius: 50%;"},
  {"line": 70, "content": "            border-top-color: #3b82f6;"},
  {"line": 71, "content": "            animation: spin 1s ease-in-out infinite;"},
  {"line": 72, "content": "            margin-left: 8px;"},
  {"line": 73, "content": "        }"},
  {"line": 74, "content": ""},
  {"line": 75, "content": "        @keyframes spin {"},
  {"line": 76, "content": "            to { transform: rotate(360deg); }"},
  {"line": 77, "content": "        }"},
  {"line": 78, "content": ""},
  {"line": 79, "content": "        .btn {"},
  {"line": 80, "content": "            background: linear-gradient(135deg, #059669 0%, #047857 100%);"},
  {"line": 81, "content": "            color: white;"},
  {"line": 82, "content": "            border: none;"},
  {"line": 83, "content": "            padding: 12px 24px;"},
  {"line": 84, "content": "            border-radius: 8px;"},
  {"line": 85, "content": "            font-size: 16px;"},
  {"line": 86, "content": "            font-weight: 600;"},
  {"line": 87, "content": "            cursor: pointer;"},
  {"line": 88, "content": "            margin-top: 20px;"},
  {"line": 89, "content": "            transition: transform 0.2s ease, box-shadow 0.2s ease;"},
  {"line": 90, "content": "        }"},
  {"line": 91, "content": ""},
  {"line": 92, "content": "        .btn:hover {"},
  {"line": 93, "content": "            transform: translateY(-2px);"},
  {"line": 94, "content": "            box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3);"},
  {"line": 95, "content": "        }"},
  {"line": 96, "content": ""},
  {"line": 97, "content": "        .btn.primary {"},
  {"line": 98, "content": "            background: linear-gradient(135deg, #059669 0%, #047857 100%);"},
  {"line": 99, "content": "        }"},
  {"line": 100, "content": ""},
  {"line": 101, "content": "        .btn.secondary {"},
  {"line": 102, "content": "            background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);"},
  {"line": 103, "content": "        }"},
  {"line": 104, "content": ""},
  {"line": 105, "content": "        .btn.primary:hover {"},
  {"line": 106, "content": "            box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3);"},
  {"line": 107, "content": "        }"},
  {"line": 108, "content": ""},
  {"line": 109, "content": "        .btn.secondary:hover {"},
  {"line": 110, "content": "            box-shadow: 0 4px 12px rgba(77, 89, 101, 0.3);"},
  {"line": 111, "content": "        }"},
  {"line": 112, "content": ""},
  {"line": 113, "content": "        .payment-info {"},
  {"line": 114, "content": "            background: #f9fafb;"},
  {"line": 115, "content": "            border-radius: 8px;"},
  {"line": 116, "content": "            padding: 16px;"},
  {"line": 117, "content": "            margin: 20px 0;"},
  {"line": 118, "content": "            text-align: left;"},
  {"line": 119, "content": "            border: 1px solid #e5e7eb;"},
  {"line": 120, "content": "        }"},
  {"line": 121, "content": ""},
  {"line": 122, "content": "        .info-item {"},
  {"line": 123, "content": "            display: flex;"},
  {"line": 124, "content": "            justify-content: space-between;"},
  {"line": 125, "content": "            margin-bottom: 8px;"},
  {"line": 126, "content": "            font-size: 14px;"},
  {"line": 127, "content": "        }"},
  {"line": 128, "content": ""},
  {"line": 129, "content": "        .info-item:last-child {"},
  {"line": 130, "content": "            margin-bottom: 0;"},
  {"line": 131, "content": "        }"},
  {"line": 132, "content": ""},
  {"line": 133, "content": "        .info-item .label {"},
  {"line": 134, "content": "            color: #4b5563;"},
  {"line": 135, "content": "            font-weight: 500;"},
  {"line": 136, "content": "        }"},
  {"line": 137, "content": ""},
  {"line": 138, "content": "        .info-item .value {"},
  {"line": 139, "content": "            color: #1f2937;"},
  {"line": 140, "content": "            font-weight: 600;"},
  {"line": 141, "content": "        }"},
  {"line": 142, "content": ""},
  {"line": 143, "content": "        .order-status {"},
  {"line": 144, "content": "            background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);"},
  {"line": 145, "content": "            border: 1px solid #86efac;"},
  {"line": 146, "content": "            border-radius: 12px;"},
  {"line": 147, "content": "            padding: 20px;"},
  {"line": 148, "content": "            margin: 20px 0;"},
  {"line": 149, "content": "            display: flex;"},
  {"line": 150, "content": "            align-items: center;"},
  {"line": 151, "content": "            gap: 16px;"},
  {"line": 152, "content": "        }"},
  {"line": 153, "content": ""},
  {"line": 154, "content": "        .status-icon {"},
  {"line": 155, "content": "            font-size: 32px;"},
  {"line": 156, "content": "        }"},
  {"line": 157, "content": ""},
  {"line": 158, "content": "        .status-text h3 {"},
  {"line": 159, "content": "            margin: 0 0 4px 0;"},
  {"line": 160, "content": "            color: #166534;"},
  {"line": 161, "content": "            font-size: 16px;"},
  {"line": 162, "content": "            font-weight: 700;"},
  {"line": 163, "content": "        }"},
  {"line": 164, "content": ""},
  {"line": 165, "content": "        .status-text p {"},
  {"line": 166, "content": "            margin: 0;"},
  {"line": 167, "content": "            color: #22c55e;"},
  {"line": 168, "content": "            font-size: 14px;"},
  {"line": 169, "content": "        }"},
  {"line": 170, "content": ""},
  {"line": 171, "content": "        .warning-message {"},
  {"line": 172, "content": "            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);"},
  {"line": 173, "content": "            border: 1px solid #fbbf24;"},
  {"line": 174, "content": "            border-radius: 12px;"},
  {"line": 175, "content": "            padding: 20px;"},
  {"line": 176, "content": "            margin: 20px 0;"},
  {"line": 177, "content": "            display: flex;"},
  {"line": 178, "content": "            align-items: center;"},
  {"line": 179, "content": "            gap: 16px;"},
  {"line": 180, "content": "            text-align: center;"},
  {"line": 181, "content": "        }"},
  {"line": 182, "content": ""},
  {"line": 183, "content": "        .warning-icon {"},
  {"line": 184, "content": "            font-size: 32px;"},
  {"line": 185, "content": "        }"},
  {"line": 186, "content": ""},
  {"line": 187, "content": "        .warning-message p {"},
  {"line": 188, "content": "            margin: 0;"},
  {"line": 189, "content": "            color: #92400e;"},
  {"line": 190, "content": "            font-size: 14px;"},
  {"line": 191, "content": "            line-height: 1.5;"},
  {"line": 192, "content": "        }"},
  {"line": 193, "content": ""},
  {"line": 194, "content": "        .actions {"},
  {"line": 195, "content": "            margin-top: 32px;"},
  {"line": 196, "content": "            display: flex;"},
  {"line": 197, "content": "            gap: 12px;"},
  {"line": 198, "content": "            justify-content: center;"},
  {"line": 199, "content": "        }"},
  {"line": 200, "content": "    </style>"},
  {"line": 201, "content": "</head>"},
  {"line": 202, "content": "<body>"},
  {"line": 203, "content": "    <div class=\"container\">"},
  {"line": 204, "content": "        <div class=\"success-icon\">âœ…</div>"},
  {"line": 205, "content": "        <h1>ê²°ì œ ì²˜ë¦¬ ì¤‘</h1>"},
  {"line": 206, "content": "        <p class=\"loading\">ê²°ì œë¥¼ í™•ì¸í•˜ê³  ìˆìŠµë‹ˆë‹¤<span class=\"spinner\"></span></p>"},
  {"line": 207, "content": "        <button class=\"btn\" id=\"backBtn\" style=\"display: none;\" onclick=\"goBack()\">TableLinkë¡œ ëŒì•„ê°€ê¸°</button>"},
  {"line": 208, "content": "    </div>"},
  {"line": 209, "content": ""},
  {"line": 210, "content": "    <script>"},
  {"line": 211, "content": "        function goToMain() {"},
  {"line": 212, "content": "            window.opener ? window.opener.location.href = '/' : window.location.href = '/';"},
  {"line": 213, "content": "        }"},
  {"line": 214, "content": ""},
  {"line": 215, "content": "        function goToMyPage() {"},
  {"line": 216, "content": "            window.opener ? window.opener.location.href = '/mypage' : window.location.href = '/mypage';"},
  {"line": 217, "content": "        }"},
  {"line": 218, "content": ""},
  {"line": 219, "content": "        function showSuccessPage(paymentKey, orderId, amount, orderResult = null) {"},
  {"line": 220, "content": "            document.querySelector('.container').innerHTML = `"},
  {"line": 221, "content": "                <div class=\"success-content\">"},
  {"line": 222, "content": "                    <div class=\"success-icon\">âœ…</div>"},
  {"line": 223, "content": "                    <h1>ê²°ì œ ë° ì£¼ë¬¸ ì™„ë£Œ!</h1>"},
  {"line": 224, "content": "                    <p>í† ìŠ¤í˜ì´ë¨¼ì¸ ë¥¼ í†µí•œ ê²°ì œê°€ ì™„ë£Œë˜ê³  ì£¼ë¬¸ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤.</p>"},
  {"line": 225, "content": ""},
  {"line": 226, "content": "                    <div class=\"payment-info\">"},
  {"line": 227, "content": "                        <div class=\"info-item\">"},
  {"line": 228, "content": "                            <span class=\"label\">ê²°ì œ ê¸ˆì•¡:</span>"},
  {"line": 229, "content": "                            <span class=\"value\">${parseInt(amount).toLocaleString()}ì›</span>"},
  {"line": 230, "content": "                        </div>"},
  {"line": 231, "content": "                        <div class=\"info-item\">"},
  {"line": 232, "content": "                            <span class=\"label\">ì£¼ë¬¸ ë²ˆí˜¸:</span>"},
  {"line": 233, "content": "                            <span class=\"value\">${orderId}</span>"},
  {"line": 234, "content": "                        </div>"},
  {"line": 235, "content": "                        ${orderResult ? `"},
  {"line": 236, "content": "                        <div class=\"info-item\">"},
  {"line": 237, "content": "                            <span class=\"label\">ì£¼ë¬¸ ID:</span>"},
  {"line": 238, "content": "                            <span class=\"value\">${orderResult.result?.orderId || 'N/A'}</span>"},
  {"line": 239, "content": "                        </div>"},
  {"line": 240, "content": "                        <div class=\"info-item\">"},
  {"line": 241, "content": "                            <span class=\"label\">ë§¤ì¥:</span>"},
  {"line": 242, "content": "                            <span class=\"value\">${orderResult.result?.storeName || 'N/A'}</span>"},
  {"line": 243, "content": "                        </div>"},
  {"line": 244, "content": "                        ` : ''}"},
  {"line": 245, "content": "                        <div class=\"info-item\">"},
  {"line": 246, "content": "                            <span class=\"label\">ê²°ì œ í‚¤:</span>"},
  {"line": 247, "content": "                            <span class=\"value\">${paymentKey}</span>"},
  {"line": 248, "content": "                        </div>"},
  {"line": 249, "content": "                    </div>"},
  {"line": 250, "content": ""},
  {"line": 251, "content": "                    ${orderResult ? `"},
  {"line": 252, "content": "                    <div class=\"order-status\">"},
  {"line": 253, "content": "                        <div class=\"status-icon\">ğŸ³</div>"},
  {"line": 254, "content": "                        <div class=\"status-text\">"},
  {"line": 255, "content": "                            <h3>ì£¼ë¬¸ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤!</h3>"},
  {"line": 256, "content": "                            <p>ë§¤ì¥ì—ì„œ ì¡°ë¦¬ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.</p>"},
  {"line": 257, "content": "                        </div>"},
  {"line": 258, "content": "                    </div>"},
  {"line": 259, "content": "                    ` : `"},
  {"line": 260, "content": "                    <div class=\"warning-message\">"},
  {"line": 261, "content": "                        <div class=\"warning-icon\">âš ï¸</div>"},
  {"line": 262, "content": "                        <p>ê²°ì œëŠ” ì™„ë£Œë˜ì—ˆìœ¼ë‚˜ ì£¼ë¬¸ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.<br>ê³ ê°ì„¼í„°ë¡œ ë¬¸ì˜í•´ì£¼ì„¸ìš”.</p>"},
  {"line": 263, "content": "                    </div>"},
  {"line": 264, "content": "                    `} "},
  {"line": 265, "content": ""},
  {"line": 266, "content": "                    <div class=\"actions\">"},
  {"line": 267, "content": "                        <button onclick=\"goToMain()\" class=\"btn primary\">ë©”ì¸ìœ¼ë¡œ</button>"},
  {"line": 268, "content": "                        <button onclick=\"goToMyPage()\" class=\"btn secondary\">ì£¼ë¬¸ë‚´ì—­ ë³´ê¸°</button>"},
  {"line": 269, "content": "                    </div>"},
  {"line": 270, "content": "                </div>"},
  {"line": 271, "content": "            `;"},
  {"line": 272, "content": "        }"},
  {"line": 273, "content": ""},
  {"line": 274, "content": "        async function processPayment() {"},
  {"line": 275, "content": "            try {"},
  {"line": 276, "content": "                // URL íŒŒë¼ë¯¸í„°ì—ì„œ ê²°ì œ ì •ë³´ ê°€ì ¸ì˜¤ê¸°"},
  {"line": 277, "content": "                const urlParams = new URLSearchParams(window.location.search);"},
  {"line": 278, "content": "                const paymentKey = urlParams.get('paymentKey');"},
  {"line": 279, "content": "                const orderId = urlParams.get('orderId');"},
  {"line": 280, "content": "                const amount = urlParams.get('amount');"},
  {"line": 281, "content": ""},
  {"line": 282, "content": "                console.log('ğŸ“‹ URL íŒŒë¼ë¯¸í„°:', { paymentKey, orderId, amount });"},
  {"line": 283, "content": "                console.log('ğŸ”— ì „ì²´ URL:', window.location.href);"},
  {"line": 284, "content": ""},
  {"line": 285, "content": "                if (!paymentKey || !orderId || !amount) {"},
  {"line": 286, "content": "                    console.error('âŒ ëˆ„ë½ëœ íŒŒë¼ë¯¸í„°:', { paymentKey, orderId, amount });"},
  {"line": 287, "content": "                    throw new Error('ê²°ì œ ì •ë³´ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');"},
  {"line": 288, "content": "                }"},
  {"line": 289, "content": ""},
  {"line": 290, "content": "                // 3. ê²°ì œ ìŠ¹ì¸ API í˜¸ì¶œ"},
  {"line": 291, "content": "                const approvalResponse = await fetch('/api/toss/success', {"},
  {"line": 292, "content": "                    method: 'POST',"},
  {"line": 293, "content": "                    headers: {"},
  {"line": 294, "content": "                        'Content-Type': 'application/json'"},
  {"line": 295, "content": "                    },"},
  {"line": 296, "content": "                    body: JSON.stringify({"},
  {"line": 297, "content": "                        paymentKey: paymentKey,"},
  {"line": 298, "content": "                        orderId: orderId,"},
  {"line": 299, "content": "                        amount: parseInt(amount)"},
  {"line": 300, "content": "                    })"},
  {"line": 301, "content": "                });"},
  {"line": 302, "content": ""},
  {"line": 303, "content": "                if (!approvalResponse.ok) {"},
  {"line": 304, "content": "                    throw new Error('ê²°ì œ ìŠ¹ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');"},
  {"line": 305, "content": "                }"},
  {"line": 306, "content": ""},
  {"line": 307, "content": "                const approvalResult = await approvalResponse.json();"},
  {"line": 308, "content": "                console.log('âœ… í† ìŠ¤í˜ì´ë¨¼ì¸  ê²°ì œ ìŠ¹ì¸ ì™„ë£Œ:', approvalResult);"},
  {"line": 309, "content": ""},
  {"line": 310, "content": "                // 4. ì£¼ë¬¸ ìƒì„± API í˜¸ì¶œ (ì €ì¥ëœ ì£¼ë¬¸ ë°ì´í„° ì‚¬ìš©)"},
  {"line": 311, "content": "                const savedOrderData = JSON.parse(sessionStorage.getItem('pendingOrderData') || '{}');"},
  {"line": 312, "content": "                console.log('ğŸ’¾ ì €ì¥ëœ ì£¼ë¬¸ ë°ì´í„°:', savedOrderData);"},
  {"line": 313, "content": ""},
  {"line": 314, "content": "                if (savedOrderData && savedOrderData.userId) {"},
  {"line": 315, "content": "                    console.log('ğŸ”„ ì£¼ë¬¸ ìƒì„± API í˜¸ì¶œ ì‹œì‘');"},
  {"line": 316, "content": "                    // TLíšŒì› ê²°ì œ ì •ë³´ë¥¼ paid_ordersì—ì„œ ì¡°íšŒ"},
  {"line": 317, "content": "                    const orderQuery = await fetch('/api/orders/paid-orders', {"},
  {"line": 318, "content": "                        method: 'POST',"},
  {"line": 319, "content": "                        headers: { 'Content-Type': 'application/json' },"},
  {"line": 320, "content": "                        body: JSON.stringify({ paymentKey, orderId, amount })"},
  {"line": 321, "content": "                    });"},
  {"line": 322, "content": ""},
  {"line": 323, "content": "                    if (!orderQuery.ok) {"},
  {"line": 324, "content": "                        const errorData = await orderQuery.json();"},
  {"line": 325, "content": "                        throw new Error(errorData.error || 'ì£¼ë¬¸ ì •ë³´ë¥¼ ì¡°íšŒí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');"},
  {"line": 326, "content": "                    }"},
  {"line": 327, "content": ""},
  {"line": 328, "content": "                    const orderResult = await orderQuery.json();"},
  {"line": 329, "content": "                    console.log('âœ… ì£¼ë¬¸ ì •ë³´ ì¡°íšŒ ì™„ë£Œ:', orderResult);"},
  {"line": 330, "content": ""},
  {"line": 331, "content": "                    // ê¸°ì¡´ ì €ì¥ëœ ì£¼ë¬¸ ë°ì´í„° ì‚¬ìš© (ê²°ì œ ì •ë³´ë§Œ ì¶”ê°€)"},
  {"line": 332, "content": "                    const finalOrderData = {"},
  {"line": 333, "content": "                        ...savedOrderData,"},
  {"line": 334, "content": "                        pgPaymentKey: paymentKey,"},
  {"line": 335, "content": "                        pgOrderId: orderId,"},
  {"line": 336, "content": "                        pgPaymentMethod: 'CARD' // ë˜ëŠ” ì‹¤ì œ ê²°ì œ ìˆ˜ë‹¨"},
  {"line": 337, "content": "                    };"},
  {"line": 338, "content": ""},
  {"line": 339, "content": "                    // 5. ì£¼ë¬¸ ìƒì„± API í˜¸ì¶œ (ìµœì¢… ì£¼ë¬¸ ë°ì´í„° ì „ë‹¬)"},
  {"line": 340, "content": "                    const orderResponse = await fetch('/api/orders/pay', {"},
  {"line": 341, "content": "                        method: 'POST',"},
  {"line": 342, "content": "                        headers: {"},
  {"line": 343, "content": "                            'Content-Type': 'application/json'"},
  {"line": 344, "content": "                        },"},
  {"line": 345, "content": "                        body: JSON.stringify(finalOrderData)"},
  {"line": 346, "content": "                    });"},
  {"line": 347, "content": ""},
  {"line": 348, "content": "                    if (!orderResponse.ok) {"},
  {"line": 349, "content": "                        const errorData = await orderResponse.json();"},
  {"line": 350, "content": "                        throw new Error(errorData.error || 'ì£¼ë¬¸ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');"},
  {"line": 351, "content": "                    }"},
  {"line": 352, "content": ""},
  {"line": 353, "content": "                    const orderResult = await orderResponse.json();"},
  {"line": 354, "content": "                    console.log('âœ… ì£¼ë¬¸ ìƒì„± ì™„ë£Œ:', orderResult);"},
  {"line": 355, "content": ""},
  {"line": 356, "content": "                    // ì €ì¥ëœ ì£¼ë¬¸ ë°ì´í„° ì‚­ì œ"},
  {"line": 357, "content": "                    sessionStorage.removeItem('pendingOrderData');"},
  {"line": 358, "content": ""},
  {"line": 359, "content": "                    // 6. ì„±ê³µ í˜ì´ì§€ í‘œì‹œ (ì£¼ë¬¸ ì •ë³´ í¬í•¨)"},
  {"line": 360, "content": "                    showSuccessPage(paymentKey, orderId, amount, orderResult);"},
  {"line": 361, "content": "                } else {"},
  {"line": 362, "content": "                    console.warn('âš ï¸ ì €ì¥ëœ ì£¼ë¬¸ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ê²°ì œë§Œ ìŠ¹ì¸ë¨');"},
  {"line": 363, "content": "                    showSuccessPage(paymentKey, orderId, amount);"},
  {"line": 364, "content": "                }"},
  {"line": 365, "content": ""},
  {"line": 366, "content": "            } catch (error) {"},
  {"line": 367, "content": "                console.error('âŒ ê²°ì œ ì²˜ë¦¬ ì‹¤íŒ¨:', error);"},
  {"line": 368, "content": "                document.querySelector('.container').innerHTML = `"},
  {"line": 369, "content": "                    <div style=\"font-size: 64px; margin-bottom: 20px;\">âŒ</div>"},
  {"line": 370, "content": "                    <h1>ê²°ì œ ì‹¤íŒ¨</h1>"},
  {"line": 371, "content": "                    <p style=\"color: #dc2626; margin-bottom: 20px;\">${error.message}</p>"},
  {"line": 372, "content": "                    <button class=\"btn\" onclick=\"goBack()\">TableLinkë¡œ ëŒì•„ê°€ê¸°</button>"},
  {"line": 373, "content": "                `;"},
  {"line": 374, "content": "            }"},
  {"line": 375, "content": "        }"},
  {"line": 376, "content": ""},
  {"line": 377, "content": "        function goBack() {"},
  {"line": 378, "content": "            if (window.opener) {"},
  {"line": 379, "content": "                window.opener.location.href = '/';"},
  {"line": 380, "content": "                window.close();"},
  {"line": 381, "content": "            } else {"},
  {"line": 382, "content": "                window.location.href = '/';"},
  {"line": 383, "content": "            }"},
  {"line": 384, "content": "        }"},
  {"line": 385, "content": ""},
  {"line": 386, "content": "        // í˜ì´ì§€ ë¡œë“œ ì‹œ ê²°ì œ ì²˜ë¦¬"},
  {"line": 387, "content": "        processPayment();"},
  {"line": 388, "content": "    </script>"},
  {"line": 389, "content": "</body>"},
  {"line": 390, "content": "</html>"},
  {"line": 391, "content": "