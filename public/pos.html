
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TableLink POS - í¬ìŠ¤ê¸°</title>
  <link rel="stylesheet" href="shared/css/globalBody.css" />
</head>
<body>
  <div id="main"></div>

  <!-- ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
  <script src="/socket.io/socket.io.js"></script>
  
  <!-- ê³µí†µ ìœ í‹¸ë¦¬í‹° -->
  <script src="/shared/utils/logOut.js"></script>
  <script src="/shared/utils/localStorage.js"></script>
  
  <!-- POS ëª¨ë“ˆë“¤ (ë¡œë”© ìˆœì„œ ì¤‘ìš”) -->
  <script src="/pos/utils/posNotification.js"></script>
  <script src="/pos/utils/posSocket.js"></script>
  <script src="/pos/components/pos/posLayout.js"></script>
  <script src="/pos/components/pos/sessionManager.js"></script>
  <script src="/pos/components/pos/advancedPayment.js"></script>
  <script src="/pos/components/pos/tableMap.js"></script>
  <script src="/pos/components/pos/tableDetailPanel.js"></script>
  <script src="/pos/components/pos/detailPanel.js"></script>
  <script src="/pos/components/pos/orderModal.js"></script>
  <script src="/pos/components/pos/paymentModal.js"></script>
  
  <!-- POS ìœ í‹¸ë¦¬í‹° ëª¨ë“ˆë“¤ -->
  <script type="module" src="/pos/utils/posNotification.js"></script>
  <script type="module" src="/pos/components/pos/posLayout.js"></script>
  
  <!-- POS ES6 ëª¨ë“ˆë“¤ -->
  <script type="module" src="/pos/components/pos/modules/posStateManager.js"></script>
  <script type="module" src="/pos/components/pos/modules/posDataLoader.js"></script>
  <script type="module" src="/pos/components/pos/modules/posTableManager.js"></script>
  <script type="module" src="/pos/components/pos/modules/posMenuManager.js"></script>
  <script type="module" src="/pos/components/pos/modules/posOrderManager.js"></script>
  <script type="module" src="/pos/components/pos/modules/posPaymentManager.js"></script>
  <script type="module" src="/pos/components/pos/modules/posTempStorage.js"></script>
  <script type="module" src="/pos/components/pos/modules/posUIRenderer.js"></script>
  <script type="module" src="/pos/components/pos/renderPOS.js"></script>

  <script type="module">
    document.addEventListener('DOMContentLoaded', async () => {
      console.log('ğŸš€ TableLink POS ì‹œìŠ¤í…œ ì‹œì‘');
      
      // ì „ì—­ ìƒíƒœ ì´ˆê¸°í™”
      window.currentStore = null;
      window.currentTable = null;
      window.allMenus = [];
      window.allTables = [];
      window.homeMode = 'table_map';
      window.currentOrderItems = [];
      window.currentTLLOrder = null;
      
      try {
        // ES6 ëª¨ë“ˆì—ì„œ renderPOS í•¨ìˆ˜ import
        const { renderPOS } = await import('/pos/components/pos/renderPOS.js');
        if (typeof renderPOS === 'function') {
          renderPOS();
        } else {
          console.error('âŒ renderPOS í•¨ìˆ˜ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
        }
      } catch (error) {
        console.error('âŒ POS ëª¨ë“ˆ ë¡œë“œ ì‹¤íŒ¨:', error);
      }
    });
  </script>
</body>
</html>
