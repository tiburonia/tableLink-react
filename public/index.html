<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TableLink - ë©”ì¸</title>

  <!--ë„¤ì´ë²„ë§µ API-->
  <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=ejmti6owy5"></script>

  <!--ì „ì—­ CSS íŒŒì¼-->
  <link rel="stylesheet" href="shared/css/favoriteStore.css" />
  <link rel="stylesheet" href="shared/css/globalBody.css" />
  <link rel="stylesheet" href="shared/css/renderLogin.css" />
  <!--ì„œë¸Œë©”ì¸ CSS ì¶”ê°€-->
  <link rel="stylesheet" href="TLG/styles/subMain.css" />
  <!--ë§ˆì´í˜ì´ì§€ CSS (FOUC ë°©ì§€)-->
  <link rel="stylesheet" href="TLG/pages/mypage/views/styles/mypage.css" />
  <link rel="stylesheet" href="TLG/pages/mypage/views/styles/myAccount.css" />
  <link rel="stylesheet" href="TLG/pages/mypage/views/styles/mypageSkeleton.css" />
</head>

<body>
  <!-- í™”ë©´ì„ ë Œë”ë§í•  ë©”ì¸ ì˜ì—­ -->
  <div id="device-frame">
    <!-- ë…¸ì¹˜ / ìƒë‹¨ ìƒíƒœë°” -->
    <div id="status-bar">
      <div class="status-time">9:41</div>
      <div class="status-icons">
        <span>
          <!-- sizeëŠ” í•„ìš”ì— ë§ê²Œ ì¡°ì • -->
        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" aria-label="Signal">
          <!-- ë°”íƒ•(êº¼ì§„ ë°”) -->
          <rect x="3"  y="16" width="3" height="5"  opacity=".25" rx="1"/>
          <rect x="8"  y="12" width="3" height="9"  opacity=".25" rx="1"/>
          <rect x="13" y="8"  width="3" height="13" opacity=".25" rx="1"/>
          <rect x="18" y="4"  width="3" height="17" opacity=".25" rx="1"/>
          <!-- ì¼œì§„ ë°”(3ì¹¸) -->
          <rect x="3"  y="16" width="3" height="5"  rx="1"/>
          <rect x="8"  y="12" width="3" height="9"  rx="1"/>
          <rect x="13" y="8"  width="3" height="13" rx="1"/>
        </svg>
        </span>
        <span>
          <svg width="26" height="12" viewBox="0 0 26 12" xmlns="http://www.w3.org/2000/svg" aria-label="LTE">
            <path fill="currentColor" d="M1.5 2v8h3.8V8.8H3.2V2H1.5Zm6.5 0v1.3h2.2v6.7h1.5V3.3h2.2V2H8Zm8.3 0v8h6.7V8.8h-5.2V7.2h4.8V5.9h-4.8V3.3h5.2V2h-6.7Z"/>
          </svg>
        </span>
        <span>
          <svg width="22" height="16" viewBox="0 0 28 16" xmlns="http://www.w3.org/2000/svg" aria-label="Battery">
            <!-- í…Œë‘ë¦¬ -->
            <rect x="1" y="3" width="22" height="10" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="2"/>
            <!-- ë‹¨ì(+) -->
            <rect x="24" y="6" width="3" height="4" rx="1" fill="currentColor"/>
            <!-- ì”ëŸ‰(80%) : 22px ë‚´ë¶€í­ ê¸°ì¤€ -->
            <rect x="3" y="5" width="17.6" height="6" rx="1.2" fill="currentColor" />
          </svg>
        </span>
      </div>
    </div>

    <!-- ì§„ì§œ ì•± í™”ë©´ -->
    <div id="main"></div>
    <div class="device-home-bar"></div>
  </div>

  <!--íšŒì›ê°€ì… í™”ë©´ ë Œë”ë§ í•¨ìˆ˜ (ë¡œê·¸ì¸ë³´ë‹¤ ë¨¼ì € ë¡œë“œ)-->
  <script src="TLG/pages/auth/renderSignUp.js"></script>
  <!--ë§ˆì´í˜ì´ì§€ ìŠ¤ì¼ˆë ˆí†¤ (FOUC ë°©ì§€ - ì‚¬ì „ ë¡œë“œ)-->
  <script src="TLG/pages/mypage/views/mypageSkeleton.js"></script>
  <!--ë§ˆì´í˜ì´ì§€ í™”ë©´ ë Œë”ë§ í•¨ìˆ˜ (ë¨¼ì € ë¡œë“œ)-->
  <script src="TLG/pages/mypage/renderMyPage.js"></script>
  <!--ë¡œê·¸ì¸ í™”ë©´ ë Œë”ë§ í•¨ìˆ˜-->
  <script type="module" src="/TLG/pages/auth/renderLogin.js"></script>
  <!--ë‚´ ê³„ì • í™”ë©´ ë Œë”ë§ í•¨ìˆ˜-->
  <script type="module" src="TLG/pages/mypage/renderMyAccount.js"></script>
  <!--ë‚´ì •ë³´ ê´€ë¦¬ í™”ë©´ ë Œë”ë§ í•¨ìˆ˜-->
  <script type="module" src="TLG/pages/mypage/renderAccountSettings.js"></script>
  <!-- ì£¼ë¬¸ ê´€ë ¨ -->
  <script src="/TLG/pages/store/views/order/renderAllOrderHTML.js"></script>

  <!-- ë¦¬ë·° ê´€ë ¨ -->
  <script type="module" src="/TLG/pages/store/views/review/renderReviewWrite.js"></script>
  <link rel="stylesheet" href="/TLG/pages/store/views/review/css/reviewWrite.css">

  <!-- ì¦ê²¨ì°¾ê¸° ê´€ë ¨ -->
  <script type="module" src="/TLG/pages/store/views/favoriteButtonView.js"></script>
  <script type="module" src="/TLG/pages/store/services/favoriteService.js"></script>

  <!-- ë¦¬ë·° ì „ì²´ë³´ê¸° -->
  <script src="/TLG/pages/store/views/review/renderAllReview.js"></script>

  <!-- ë¦¬ë·° ê´€ë¦¬ì ë° ë¯¸ë¦¬ë³´ê¸° (ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜) -->
  <script type="module" src="/TLG/pages/store/repositories/reviewDataRepository.js"></script>
  <script type="module" src="/TLG/pages/store/views/reviewPreviewView.js"></script>
  <script type="module" src="/TLG/pages/store/controllers/reviewPreviewController.js"></script>

  <!-- í”„ë¡œëª¨ì…˜ ìƒì„¸ -->
  <script src="/TLG/pages/store/views/promotion/renderPromotionDetail.js"></script>
  <!--ì§€ë„ ëª¨ë“ˆë“¤-->
  <link rel="stylesheet" href="TLG/pages/main/views/styles/mapStorePanel.css" />
  <script src="TLG/pages/main/modules/mapPanelUI.js"></script>
  <script src="TLG/pages/main/modules/mapMarkerManager.js"></script>
  <!--ì§€ë„ í™”ë©´ ë Œë”ë§ í•¨ìˆ˜-->
  <script type="module" src="TLG/pages/main/renderMap.js"></script>
  <script type="module" src="TLG/pages/main/renderSearch.js"></script>
  <!--ì•Œë¦¼ í™”ë©´ ë Œë”ë§ í•¨ìˆ˜-->
  <script type="module" src="TLG/pages/main/renderNotification.js"></script>
  <!--ì¦ê²¨ì°¾ê¸° ê¸°ëŠ¥ (ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜) - ìœ„ì—ì„œ ì´ë¯¸ ë¡œë“œë¨, ì¤‘ë³µ ì œê±°-->
  <script type="module" src="TLG/pages/store/repositories/favoriteRepository.js"></script>
  <script type="module" src="TLG/pages/store/controllers/favoriteController.js"></script>
  <!--ë§¤ì¥ë Œë”ë§ ëª¨ë“ˆë“¤-->
  <!-- storePanelManagerëŠ” ë” ì´ìƒ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ -->
  <!--íŒ¨ë„ ê´€ë¦¬ (ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜)-->
  <script type="module" src="/TLG/pages/store/repositories/panelRepository.js"></script>
  <script type="module" src="/TLG/pages/store/services/panelService.js"></script>
  <script type="module" src="/TLG/pages/store/views/modules/panelView.js"></script>
  <script type="module" src="/TLG/pages/store/controllers/panelController.js"></script>
  <!--ë¦¬ë·° í”„ë¦¬ë·° (ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜) - ìœ„ì—ì„œ ì´ë¯¸ ë¡œë“œë¨, ì¤‘ë³µ ì œê±°-->
  <script type="module" src="/TLG/pages/store/services/reviewDataService.js"></script>
  <!--ë§¤ì¥ íƒ­ ë·° (ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜)-->
  <script type="module" src="/TLG/pages/store/views/tabs/homeTabView.js"></script>
  <script type="module" src="/TLG/pages/store/views/tabs/menuTabView.js"></script>
  <script type="module" src="/TLG/pages/store/views/tabs/reviewTabView.js"></script>
  <script type="module" src="/TLG/pages/store/views/tabs/storeInfoTabView.js"></script>
  <script type="module" src="/TLG/pages/store/views/tabs/regularTabView.js"></script>
  <!--ë§¤ì¥ ì¶”ê°€ ì •ë³´ (ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜)-->
  <script type="module" src="/TLG/pages/store/repositories/storeInfoRepository.js"></script>
  <script type="module" src="/TLG/pages/store/services/storeInfoService.js"></script>
  <script type="module" src="/TLG/pages/store/views/modules/storeAdditionalInfoHTML.js"></script>
  <!--í…Œì´ë¸” ê´€ë¦¬ (ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜)-->
  <script type="module" src="/TLG/pages/store/repositories/tableRepository.js"></script>
  <script type="module" src="/TLG/pages/store/services/tableService.js"></script>
  <script type="module" src="/TLG/pages/store/views/tableStatusView.js"></script>

  <script type="module" src="/TLG/pages/store/services/storeEventService.js"></script>

  <script type="module" src="/TLG/pages/store/controllers/tableController.js"></script>
  <!--TLL ê´€ë¦¬ (ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜)-->
  <script type="module" src="/TLG/pages/store/controllers/tllController.js"></script>
  <!--ë§¤ì¥ë Œë”ë§ í•¨ìˆ˜ (ìš°ì„  ë¡œë”©)-->
  <script src="TLG/pages/store/renderStore.js"></script>
  <!--ê²°ì œ í™”ë©´ ë Œë”ë§ í•¨ìˆ˜ (ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜)-->
  <script type="module" src="TLG/pages/pay/renderPay.js"></script>
  <!--ì¿ í° ë°œê¸‰ í•¨ìˆ˜-->
  <script src="TLG/utils/creatCoupon.js"></script>
  <!--ê²°ì œ ì™„ë£Œ í™”ë©´ ë Œë”ë§ í•¨ìˆ˜ (ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜)-->
  <script type="module" src="TLG/pages/pay/confirmPayF.js"></script>
  <!--ì£¼ë¬¸ í™”ë©´ ë Œë”ë§ í•¨ìˆ˜ (ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜)-->
  <script type="module" src="TLG/pages/pay/renderOrderScreen.js"></script>
  <!--ì˜ˆì•½ í™”ë©´ ë Œë”ë§ í•¨ìˆ˜-->
  <script src="TLG/pages/store/renderReservationScreen.js"></script>
  <!--ë©”ë‰´ ëª¨ë“ˆ-->
  <script type="module" src="/TLG/pages/store/views/modules/menuHTML.js"></script>

  <!--ë§¤ì¥ ìºì‹œ ì‹œìŠ¤í…œ-->
  <script src="TLG/utils/storeCache.js"></script>
  <script src="/TLG/utils/globalKeyboardEvents.js"></script>
  <script src="/TLG/utils/regularLevelManager.js"></script>
  <!-- í˜œíƒ ìƒì„¸ë³´ê¸° ìŠ¤í¬ë¦½íŠ¸ - ìœ„ì—ì„œ ì´ë¯¸ ë¡œë“œë¨, ì¤‘ë³µ ì œê±° -->
  <!-- ì„œë¸Œ ë©”ì¸ í™”ë©´ ë Œë”ë§ í•¨ìˆ˜ (ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜) -->
  <script type="module" src="TLG/pages/main/repositories/subMainRepository.js"></script>
  <script type="module" src="TLG/pages/main/services/subMainService.js"></script>
  <script type="module" src="TLG/pages/main/views/subMainView.js"></script>
  <script type="module" src="TLG/pages/main/controllers/subMainController.js"></script>
  <script type="module" src="TLG/pages/main/renderSubMain.js"></script>
  <script type="module" src="TLG/pages/pay/TLL.js"></script>

  <!-- ë‹¨ê³¨ë§¤ì¥ í˜ì´ì§€ (ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜) -->
  <script type="module" src="TLG/pages/regular/renderRegularPage.js"></script>

  <!-- ì•± ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸ (AuthManagerì—ì„œ ì œê³µ) -->
  <script type="module">
    import { initializeApp } from '/TLG/utils/authManager.js';

    document.addEventListener('DOMContentLoaded', function() {
      console.log('ğŸ”„ DOM ë¡œë“œ ì™„ë£Œ, ì•± ì´ˆê¸°í™” ì‹œì‘');

      if (typeof initializeApp === 'function') {
        console.log('âœ… initializeApp í•¨ìˆ˜ ë°œê²¬, ì‹¤í–‰ ì¤‘...');
        initializeApp();
      } else {
        console.error('âŒ initializeApp í•¨ìˆ˜ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ');
        // í´ë°±ìœ¼ë¡œ ì§ì ‘ ë¡œê·¸ì¸ í™”ë©´ ë Œë”ë§
        setTimeout(() => {
          if (typeof renderLogin === 'function') {
            console.log('ğŸ”„ í´ë°±: renderLogin í•¨ìˆ˜ ì‹¤í–‰');
            renderLogin();


          } else {
            console.error('âŒ renderLogin í•¨ìˆ˜ë„ ì°¾ì„ ìˆ˜ ì—†ìŒ');
            document.getElementById('main').innerHTML = '<div style="padding: 20px; text-align: center;">ì•±ì„ ë¡œë”©í•˜ëŠ” ì¤‘...</div>';
          }
        }, 100);
      }
    });
  </script>

  <script>
    // í† ìŠ¤í˜ì´ë¨¼ì¸  íŒì—…ì°½ìœ¼ë¡œë¶€í„° ë©”ì‹œì§€ ìˆ˜ì‹ 
    window.addEventListener('message', function(event) {
      console.log('ğŸ“¨ ë©”ì‹œì§€ ìˆ˜ì‹ :', event.data);

      if (event.data && event.data.action) {
        switch (event.data.action) {
          case 'navigate':
            console.log('ğŸ”„ í˜ì´ì§€ ì´ë™:', event.data.url);
            window.location.href = event.data.url;
            break;

          case 'payment-success':
            console.log('âœ… ê²°ì œ ì„±ê³µ ì•Œë¦¼:', event.data);
            // í•„ìš”ì‹œ ì¶”ê°€ ì²˜ë¦¬ ë¡œì§
            break;

          default:
            console.log('â„¹ï¸ ì•Œ ìˆ˜ ì—†ëŠ” ì•¡ì…˜:', event.data.action);
        }
      }
    }, false);
  </script>
</body>

</html>