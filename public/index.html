<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TableLink - Î©îÏù∏</title>

  <!--Ïπ¥Ïπ¥Ïò§Îßµ APIÌÇ§-->
  <script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=2da5b80696f4403357706514d7c56b70&libraries=services"></script>

  <!--Ï†ÑÏó≠ CSS ÌååÏùº-->
  <link rel="stylesheet" href="shared/css/favoriteStore.css" />
  <link rel="stylesheet" href="shared/css/globalBody.css" />
  <link rel="stylesheet" href="shared/css/renderLogin.css" />
  <!--ÏÑúÎ∏åÎ©îÏù∏ CSS Ï∂îÍ∞Ä-->
  <link rel="stylesheet" href="TLG/styles/subMain.css" />
</head>

<body>
  <!-- ÌôîÎ©¥ÏùÑ Î†åÎçîÎßÅÌï† Î©îÏù∏ ÏòÅÏó≠ -->
  <div id='main'></div>
  <!-- Ïû•Î∞îÍµ¨Îãà ÏúÑÏ†Ø -->
  <div id='cartWidget'></div>

  <!--ÌöåÏõêÍ∞ÄÏûÖ ÌôîÎ©¥ Î†åÎçîÎßÅ Ìï®Ïàò (Î°úÍ∑∏Ïù∏Î≥¥Îã§ Î®ºÏ†Ä Î°úÎìú)-->
  <script src="TLG/pages/auth/renderSignUp.js"></script>
  <!--ÎßàÏù¥ÌéòÏù¥ÏßÄ ÌôîÎ©¥ Î†åÎçîÎßÅ Ìï®Ïàò (Î®ºÏ†Ä Î°úÎìú)-->
  <script src="TLG/pages/mypage/renderMyPage.js"></script>
  <!--Î°úÍ∑∏Ïù∏ ÌôîÎ©¥ Î†åÎçîÎßÅ Ìï®Ïàò-->
  <script src="TLG/pages/auth/renderLogin.js"></script>
  <!--Î°úÍ∑∏ÏïÑÏõÉÎ°úÏßÅ Ìï®Ïàò-->
  <script src="TLG/utils/logOut.js"></script>
  <!--QR Í≤∞Ï†ú ÌôîÎ©¥ Î†åÎçîÎßÅ Ìï®Ïàò-->
  <script src="TLG/utils/TLL.js"></script>
  <!--ÎÇ¥ Í≥ÑÏ†ï ÌôîÎ©¥ Î†åÎçîÎßÅ Ìï®Ïàò-->
  <script src="TLG/pages/mypage/renderMyAccount.js"></script>
  <!--ÎßàÏù¥ÌéòÏù¥ÏßÄ Ï†ÑÏ≤¥ Î¶¨Î∑∞ Î†åÎçîÎßÅ Ìï®Ïàò-->
  <script src="TLG/pages/store/order/renderAllOrderHTML.js"></script>
  <!--ÏßÄÎèÑ Î™®ÎìàÎì§-->
  <script src="TLG/pages/main/modules/mapPanelUI.js"></script>
  <script src="TLG/pages/main/modules/mapMarkerManager.js"></script>
  <!--ÏßÄÎèÑ ÌôîÎ©¥ Î†åÎçîÎßÅ Ìï®Ïàò-->
  <script src="TLG/pages/main/renderMap.js"></script>
  <script src="TLG/pages/main/renderSearch.js"></script>
  <!--ÏïåÎ¶º ÌôîÎ©¥ Î†åÎçîÎßÅ Ìï®Ïàò-->
  <script src="TLG/pages/main/renderNotification.js"></script>
  <!--Îß§Ïû• Ï¶êÍ≤®Ï∞æÍ∏∞ ÌÜ†Í∏Ä Ìï®Ïàò-->
  <script src="TLG/pages/store/favoriteStore/toggleFavoriteF.js"></script>
  <!--Î©îÎâ¥ÌÉ≠ Î†åÎçîÎßÅ Ìï®Ïàò-->
  <script src="TLG/pages/store/newStore/renderMenuHTML.js"></script>
  <!--Î¶¨Î∑∞ÌÉ≠ Î†åÎçîÎßÅ Ìï®Ïàò-->
  <script src="TLG/pages/store/newStore/renderReviewHTML.js"></script>
  <!--Ï†ÑÏ≤¥ Î¶¨Î∑∞ Î†åÎçîÎßÅ Ìï®Ïàò-->
  <script src="TLG/pages/store/review/renderAllReview.js"></script>
  <!--Îß§Ïû•Î†åÎçîÎßÅ Î™®ÎìàÎì§-->
  <script src="/TLG/pages/store/modules/renderStoreUI.js"></script>
  <script src="/TLG/pages/store/modules/storePanelManager.js"></script>
  <script src="/TLG/pages/store/modules/storeTabManager.js"></script>
  <script src="/TLG/pages/store/modules/reviewManager.js"></script>
  <script src="/TLG/pages/store/modules/tableInfoManager.js"></script>
  <!--Îß§Ïû•Î†åÎçîÎßÅ Ìï®Ïàò (Ïö∞ÏÑ† Î°úÎî©)-->
  <script src="TLG/pages/store/renderStore.js"></script>
  <!--Í≤∞Ï†ú ÌôîÎ©¥ Î†åÎçîÎßÅ Ìï®Ïàò-->
  <script src="TLG/pages/store/pay/renderPay.js"></script>
  <!--Ïø†Ìè∞ Î∞úÍ∏â Ìï®Ïàò-->
  <script src="TLG/utils/creatCoupon.js"></script>
  <!--Í≤∞Ï†ú ÏôÑÎ£å ÌôîÎ©¥ Î†åÎçîÎßÅ Ìï®Ïàò-->
  <script src="TLG/pages/store/pay/renderPay.js"></script>
  <script src="TLG/pages/store/pay/confirmPayF.js"></script>
  <!--Ïû•Î∞îÍµ¨Îãà ÌôîÎ©¥ Î†åÎçîÎßÅ Ìï®Ïàò-->
  <script src="TLG/pages/store/cart/saveCart.js"></script>
  <!--Ïû•Î∞îÍµ¨Îãà ÏúÑÏ†Ø Î†åÎçîÎßÅ Ìï®Ïàò-->
  <script src="TLG/pages/store/cart/renderCartWidget.js"></script>
  <!--Ïû•Î∞îÍµ¨Îãà ÌôîÎ©¥ Î†åÎçîÎßÅ Ìï®Ïàò-->
  <script src="TLG/pages/store/cart/renderCart.js"></script>
  <!--Ï£ºÎ¨∏ ÌôîÎ©¥ Î†åÎçîÎßÅ Ìï®Ïàò-->
  <script src="TLG/pages/store/renderOrderScreen.js"></script>
  <!--ÏòàÏïΩ ÌôîÎ©¥ Î†åÎçîÎßÅ Ìï®Ïàò-->
  <script src="TLG/pages/store/renderReservationScreen.js"></script>
  <!--Îß§Ïû• Ï∫êÏãú ÏãúÏä§ÌÖú-->
  <script src="TLG/utils/storeCache.js"></script>
  <script src="/TLG/utils/globalKeyboardEvents.js"></script>
  <script src="/TLG/utils/regularLevelManager.js"></script>
  <!-- ÌòúÌÉù ÏÉÅÏÑ∏Î≥¥Í∏∞ Ïä§ÌÅ¨Î¶ΩÌä∏ Ï∂îÍ∞Ä -->
  <script src="../TLG/pages/store/promotion/renderPromotionDetail.js"></script>
  <!-- ÏÑúÎ∏å Î©îÏù∏ ÌôîÎ©¥ Î†åÎçîÎßÅ Ìï®Ïàò Ï∂îÍ∞Ä -->
  <script src="TLG/pages/main/renderSubMain.js"></script>

  <script>
    //Ï¥àÍ∏∞ ÏßÑÏûÖ Î†åÎçîÎßÅ Ìï®Ïàò
    document.addEventListener('DOMContentLoaded', () => {
      renderLogin()
    });
  </script>
  <script>
    // Î°úÍ∑∏Ïù∏ ÏÉÅÌÉú Ï≤¥ÌÅ¨
    checkLoginStatus();

    // URL ÌååÎùºÎØ∏ÌÑ∞ ÌôïÏù∏ÌïòÏó¨ Î¶¨Îã§Ïù¥Î†âÏÖò Ï≤òÎ¶¨
    const urlParams = new URLSearchParams(window.location.search);
    const redirect = urlParams.get('redirect');

    if (redirect && window.userInfo) {
      console.log('üîó URL ÌååÎùºÎØ∏ÌÑ∞ Î¶¨Îã§Ïù¥Î†âÏÖò:', redirect);

      // URLÏóêÏÑú ÌååÎùºÎØ∏ÌÑ∞ Ï†úÍ±∞
      window.history.replaceState({}, document.title, window.location.pathname);

      setTimeout(() => {
        if (redirect === 'map' && typeof renderMap === 'function') {
          renderMap();
        } else if (redirect === 'mypage' && typeof renderMyPage === 'function') {
          renderMyPage();
        }
      }, 500);
    }
  </script>
</body>

</html>