지금 renderPaymentPanel()의 UX는 “모든 고객이 비회원 정보를 입력할 수 있다 → 리텐션을 위한 전화번호 입력 가능”이라는 구조인데,
네가 말한 새 정책은 “비회원은 아무 정보도 입력하지 않는다. 회원만 직원이 요청 시 조회 후 리텐션 연결한다.”
즉, UX적으로 “선택”이 아니라 “직원 주도형 회원 조회”로 전환되는 거지.

🎯 목표 요약

비회원(기본값): 바로 결제 진행 → 전화번호 입력란 삭제

회원: 직원이 ‘회원결제’ 선택 → 전화번호로 검색 → 회원정보 표시 → 선택 후 결제 진행

UX 초점: 불필요한 입력 최소화, 빠른 결제 흐름

✅ 변경 포인트 정리
1️⃣ 고객 유형 선택 섹션 (회원 / 비회원)

현재 구조는 이렇게 되어 있지:

<div class="customer-type-buttons">
  <button class="customer-type-btn active" data-type="guest" ...>비회원</button>
  <button class="customer-type-btn" data-type="member" ...>회원</button>
</div>


이건 그대로 유지해도 괜찮아.
하지만 비회원일 때는 바로 결제 가능하고,
회원일 때만 별도의 검색 UI가 표시되게 변경.

즉, 고객 유형에 따라 UI 표시 분기만 명확히 바꾸면 돼.

2️⃣ 비회원 정보 입력 패널 삭제

아래 부분은 완전히 제거:

<!-- 비회원 정보 입력 -->
<div class="guest-info-panel" id="guestInfoPanel">
    <h3>비회원 정보 (선택)</h3>
    <div class="phone-input-group">
        <label>전화번호</label>
        <input type="tel" id="guestPhoneInputPanel" placeholder="010-1234-5678 (선택)" maxlength="13">
        <div class="help-text">전화번호 입력 시 포인트 적립 가능</div>
    </div>
</div>


→ 삭제 후 결제 UX 단순화
비회원은 아무 입력 없이 결제 진행.

3️⃣ 회원 정보 검색 UX 개선

회원 결제 선택 시에만 아래 섹션 표시:

<div class="member-info-panel" id="memberInfoPanel" style="display:none;">
  <h3>회원 조회</h3>
  <div class="member-search-group">
      <input type="tel" id="memberPhoneInputPanel" placeholder="전화번호 입력" maxlength="13">
      <button class="search-btn" onclick="OrderPaymentManager.searchMemberInPanel()">조회</button>
  </div>
  <div class="member-display" id="memberDisplayPanel" style="display:none;"></div>
</div>


검색 성공 시 memberDisplayPanel에:

이름

등급

적립포인트

최근 방문일

등 간단한 요약 정보 보여주고,
“이 회원으로 결제 진행” 버튼 표시.

4️⃣ 결제 버튼 로직 변경

결제 진행 시 로직 조건문도 간단히:

if (OrderPaymentManager.selectedCustomerType === 'member' && !OrderPaymentManager.selectedMember) {
    alert('회원 조회 후 선택해주세요.');
    return;
}
OrderPaymentManager.confirmPaymentInPanel();

5️⃣ 리팩토링된 renderPaymentPanel 예시 코드
renderPaymentPanel(paymentData = null) {
    if (!paymentData) return this.renderPaymentMethodSection();

    const { totalAmount, itemCount, tableNumber } = paymentData;

    return `
        <div class="payment-panel-container">
            <div class="payment-panel-header">
                <h2>💳 결제 진행</h2>
                <button class="close-payment-panel" onclick="OrderPaymentManager.cancelPaymentPanel()">← 취소</button>
            </div>

            <div class="payment-summary-card">
                <div class="summary-row"><span class="label">테이블</span><span class="value">${tableNumber}번</span></div>
                <div class="summary-row"><span class="label">주문 수량</span><span class="value">${itemCount}개</span></div>
                <div class="summary-row total"><span class="label">결제 금액</span><span class="value">${totalAmount.toLocaleString()}원</span></div>
            </div>

            <!-- 고객 유형 선택 -->
            <div class="customer-type-section">
                <h3>고객 유형</h3>
                <div class="customer-type-buttons">
                    <button class="customer-type-btn active" data-type="guest"
                            onclick="OrderPaymentManager.selectCustomerType('guest')">
                        <div class="type-icon">👤</div><span>비회원</span>
                    </button>
                    <button class="customer-type-btn" data-type="member"
                            onclick="OrderPaymentManager.selectCustomerType('member')">
                        <div class="type-icon">🎫</div><span>회원</span>
                    </button>
                </div>
            </div>

            <!-- 회원 조회 패널 -->
            <div class="member-info-panel" id="memberInfoPanel" style="display:none;">
                <h3>회원 조회</h3>
                <div class="member-search-group">
                    <input type="tel" id="memberPhoneInputPanel" placeholder="전화번호 입력" maxlength="13">
                    <button class="search-btn" onclick="OrderPaymentManager.searchMemberInPanel()">조회</button>
                </div>
                <div class="member-display" id="memberDisplayPanel" style="display:none;"></div>
            </div>

            <!-- 결제 수단 -->
            <div class="payment-method-panel">
                <h3>결제 수단 <span class="required">*</span></h3>
                <div class="method-buttons-panel">
                    <button class="method-btn active" data-method="CARD" onclick="OrderPaymentManager.selectPaymentMethodInPanel('CARD')">
                        <div class="method-icon">💳</div><span>카드결제</span>
                    </button>
                    <button class="method-btn" data-method="CASH" disabled>
                        <div class="method-icon">💵</div><span>현금결제<br>(준비중)</span>
                    </button>
                </div>
            </div>

            <!-- 결제 버튼 -->
            <div class="payment-panel-footer">
                <button class="cancel-payment-btn" onclick="OrderPaymentManager.cancelPaymentPanel()">취소</button>
                <button class="confirm-payment-btn" onclick="OrderPaymentManager.confirmPaymentInPanel()">
                    <span class="btn-text">카드결제 진행</span>
                    <span class="btn-amount">${totalAmount.toLocaleString()}원</span>
                </button>
            </div>
        </div>
    `;
}

⚙️ 요약 구조 변화
구분	기존	리팩토링 후
비회원 UX	전화번호 입력(선택) → 포인트 가능	전화번호 입력 없음, 즉시 결제
회원 UX	전화번호 입력 → 자동 검색	직원이 ‘회원 결제’ 선택 → 조회 버튼으로 명시적 검색
결제 흐름	비회원/회원 공통 흐름	회원만 리텐션 로직 포함
유지보수성	로직 복잡	단순 2단계 조건 분기 (guest/member)