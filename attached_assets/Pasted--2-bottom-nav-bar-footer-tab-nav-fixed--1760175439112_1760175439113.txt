왜 어긋졌는지 (핵심 문제)

네비게이션 레이어가 2중으로 충돌

bottom-nav-bar(앱 전역 네비) + footer-tab-nav(단골/즐겨찾기 탭)를 동시에 fixed로 깔아놓음 → 바닥에 고정 요소가 2개라 시야·터치 영역이 복잡.

실제 컨텐츠는 padding-bottom으로 간격을 억지로 확보(160px) → 기기마다 겹치거나 여백 과다.

컨텐츠 캐러셀(regular/favorite) 구조가 “보이는 컨텐츠”를 안 바꿈

renderFooterCTA() 안의 content-carousel-container는 페이지 내에 있지만, 실제 컨텐츠는 위쪽 섹션들에서 이미 렌더되어 있음 → 탭 눌러도 진짜 컨텐츠가 바뀌지 않음 (UX 혼란).

switchRegularTab('favorite') 같은 이벤트 핸들러가 없음(계약 부재).

페이지 네이밍/정체성 불일치

헤더 타이틀은 “❤️ 단골매장”인데, 실제로 즐겨찾기까지 통합하려는 기획. 사용자는 “내 맛집” 허브를 기대하는데 네이밍이 관계를 좁혀버림.

하드코딩된 높이와 스크롤 충돌

.regular-page-container { height: 775px; position: fixed; overflow-y: auto; }
→ 뷰포트·키보드·iOS 안전영역에 따라 터치/스크롤 문제가 쉽게 발생.

고정 바 2개 + 상단 sticky 헤더까지 있어 스크롤 실측이 불안정.

정보 계층의 무게감이 역전

“단골 매장”이 메인인데, stores 그리드와 favorite이 나란히 존재 + 캐러셀 탭까지 붙어서 중심 축이 분산됨.

즐겨찾기는 탐색/관심 레이어(가볍게)여야 하는데, 현재는 동일한 비중.

바로 적용하면 좋아지는 수정안 (구조/UX 가이드)
1) 네비게이션 레이어 단일화

전역: bottom-nav-bar (홈/QR/내주변/내맛집/더보기) 유지

로컬 탭(단골/즐겨찾기) 은 하단 고정 대신 **컨텐츠 영역 상단에 “작고 가벼운 필터 바”**로 변경
→ SNS 하단탭처럼 보이되 fixed 금지 (전역 네비와 겹치지 않게)

<!-- 단골/즐겨찾기 토글 바 (컨텐츠 상단, fixed 아님) -->
<div class="local-toggle">
  <button class="toggle-btn active" data-tab="regular">❤️ 단골</button>
  <button class="toggle-btn" data-tab="favorite">⭐ 즐겨찾기</button>
</div>

.local-toggle{
  display:flex;justify-content:center;gap:8px;
  padding:8px 12px;margin:8px 20px;border-radius:12px;
  background:#fff;box-shadow:0 1px 4px rgba(0,0,0,.06);
}
.toggle-btn{border:none;background:#f3f4f6;border-radius:8px;padding:8px 12px;font-size:13px;color:#6b7280}
.toggle-btn.active{background:#fff5eb;color:#FF8A00;font-weight:700}


→ 전환은 리스트를 교체하는 방식이 깔끔:

regular 탭: 단골 피드(요약) + 최근방문 + 단골 그리드

favorite 탭: 즐겨찾기 전용 그리드 페이지 (가로 캐러셀은 “미리보기”로만 regular 탭 하단에 노출)

2) 컨텐츠 캐러셀 제거(또는 진짜로 화면 전환)

지금 content-carousel-container는 UX를 흐리는 장식에 가까워.
→ 삭제하고 단순 필터 전환으로 가거나,
→ 진짜로 regular/favorite 섹션을 둘 중 하나만 보이게 토글해.

// 컨트롤러 예시
document.addEventListener('click', (e)=>{
  const btn = e.target.closest('.toggle-btn');
  if(!btn) return;
  document.querySelectorAll('.toggle-btn').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');

  const tab = btn.dataset.tab;
  document.querySelector('.regular-pane').style.display = (tab==='regular')?'block':'none';
  document.querySelector('.favorite-pane').style.display = (tab==='favorite')?'block':'none';
});


컨텐츠 영역 예시:

<div class="local-toggle">…</div>

<!-- Regular Pane -->
<div class="regular-pane">
  <!-- 단골 피드(요약) / 최근 방문 / 단골 그리드 / 즐겨찾기 미리보기(가로) -->
</div>

<!-- Favorite Pane -->
<div class="favorite-pane" style="display:none">
  <!-- 즐겨찾기 전체 그리드 -->
</div>

3) 레이아웃/높이 정리 (하드코딩 제거)

.regular-page-container의 position: fixed; height: 775px; overflow-y: auto; → 모두 제거

페이지는 기본 문서 흐름으로 스크롤.

바닥 여백은 전역 네비 높이 + 약간의 safe-area로만 확보.

.regular-page-container{
  min-height:100dvh; /* 모바일 대응 */
  background:#fafafa;
  padding-bottom: calc(68px + 16px); /* bottom-nav 높이 + 여유 */
}

4) 정보 계층 재정렬 (무게 중심 복원)

권장 순서(regular 탭):

헤더(“내 맛집”으로 네이밍 변경 권장)

로컬 토글 바 (단골/즐겨찾기)

단골 피드(요약 2~3개)

최근 방문 (세로 카드 2~3개)

단골 매장 그리드(메인)

즐겨찾기 미리보기 (가로 캐러셀 1줄)
→ “전체보기” 클릭 시 favorite 탭으로 전환

(선택) 혜택/쿠폰 CTA

전역 bottom-nav

favorite 탭(‘즐겨찾기’)은:

헤더/토글 동일

즐겨찾기 그리드 전체 (필터/정렬 버튼 옵션)

5) 네이밍/카피

타이틀을 “❤️ 단골매장” → “🍽️ 내 맛집” 으로 바꿔.
(하위 섹션에서 “단골”/“즐겨찾기”로 구분)

즐겨찾기 미리보기 섹션 제목은 “⭐ 내가 찜해둔 곳” 같이 라이트 톤이 좋아.

6) 데이터 계약/상태

render(data) 인자에 favoriteStores를 이미 받고 있음 → favorite 탭 전환 시 동일 데이터 재사용.

“전체보기”는 라우팅 이동 대신 탭 전환으로 빠르게: switchRegularTab('favorite') → 위 토글 핸들러로 통일.

비어있을 때의 Empty State 각각 제공(단골 없음 / 즐겨찾기 없음 메시지 분리).

7) 마이크로 인터랙션

즐겨찾기 가로 캐러셀 카드: 롱프레스=즐겨찾기 해제(옵션)

탭 전환: 200~250ms 페이드/슬라이드 (translateY 8px + opacity)

피드 배너 알림: 24시간 기준이 맞다면 리프레시 시 갱신 로직만 추가.

최소 수정 코드 스니펫 (핵심만)
1) 레이아웃/토글
<div class="local-toggle">
  <button class="toggle-btn active" data-tab="regular">❤️ 단골</button>
  <button class="toggle-btn" data-tab="favorite">⭐ 즐겨찾기</button>
</div>

<div class="regular-pane">
  ${this.renderStoreFeed(posts)}
  ${this.renderRecentVisited(stores)}
  ${this.renderStoresList(stores)}
  ${this.renderFavoriteStoresPreview(favoriteStores)} <!-- 미리보기 전용 -->
</div>

<div class="favorite-pane" style="display:none">
  ${this.renderFavoriteListGrid(favoriteStores)} <!-- 전체 그리드 -->
</div>

2) 즐겨찾기 “미리보기”와 “전체”
renderFavoriteStoresPreview(list){
  if(!list?.length) return '';
  const preview=list.slice(0,6);
  return `
    <section class="favorite-section">
      <div class="section-header-compact">
        <h2 class="section-title">⭐ 내가 찜해둔 곳</h2>
        <button class="view-all-btn" data-tab="favorite">전체보기</button>
      </div>
      <div class="favorite-scroll">
        ${preview.map(this.renderFavoriteCard).join('')}
      </div>
    </section>
  `
}
renderFavoriteListGrid(list){
  if(!list?.length) return this.renderFavoriteEmpty();
  return `
    <section class="favorite-list-grid-section">
      <div class="section-header-compact">
        <h2 class="section-title">⭐ 즐겨찾기</h2>
        <div class="header-actions">
          <button class="filter-btn">정렬</button>
        </div>
      </div>
      <div class="favorite-list-grid">
        ${list.map(this.renderFavoriteGridCard).join('')}
      </div>
    </section>
  `
}

3) 스크립트(토글)
document.addEventListener('click',(e)=>{
  const tabBtn = e.target.closest('.toggle-btn, .view-all-btn[data-tab]');
  if(!tabBtn) return;
  const tab = tabBtn.dataset.tab;

  document.querySelectorAll('.toggle-btn').forEach(b=>b.classList.remove('active'));
  document.querySelector(`.toggle-btn[data-tab="${tab}"]`)?.classList.add('active');

  document.querySelector('.regular-pane').style.display = (tab==='regular')?'block':'none';
  document.querySelector('.favorite-pane').style.display = (tab==='favorite')?'block':'none';
});

4) 스타일 핵심
.regular-page-container{
  min-height:100dvh;
  background:#fafafa;
  padding-bottom: calc(68px + 16px);
}

요약 (바로 적용 포인트)

고정 바는 전역 bottom-nav만 남기고, 단골/즐겨찾기 토글은 컨텐츠 상단, 비-fixed로.

“컨텐츠 캐러셀” 제거하고 실제 섹션 교체로 단순화.

하드코딩된 높이/포지션 제거, 스크롤은 문서 흐름으로.

순서: 피드→최근방문→단골 그리드(메인)→즐겨찾기 미리보기→CTA→전역 네비

타이틀은 향후 **“내 맛집”**으로 브랜딩 통일.