~/workspace$ node scripts/database/restore-stores-relationships.js
ğŸ”„ stores í…Œì´ë¸” ì°¸ì¡°ê´€ê³„ ë³µì› ì‹œì‘...
âœ… PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
ğŸ” 1ë‹¨ê³„: ìŠ¤í‚¤ë§ˆ ì°¨ì´ í™•ì¸ ë° ì¡°ì •...
âœ… í˜„ì¬ stores ì»¬ëŸ¼: id, name, category, is_open, rating_average, review_count, favorite_count, description, created_at, updated_at
âœ… PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° 
âœ… ë°±ì—… stores ì»¬ëŸ¼: id, name, category, is_open, rating_average, review_count, favorite_count, created_at, description
ğŸ”— ê³µí†µ ì»¬ëŸ¼: id, name, category, is_open, rating_average, review_count, favorite_count, description, created_at
ğŸ—‘ï¸ 2ë‹¨ê³„: í˜„ì¬ stores í…Œì´ë¸” ë°ì´í„° ì´ˆê¸°í™”...
âœ… ê¸°ì¡´ stores ë°ì´í„° ì‚­ì œ ì™„ë£Œ
ğŸ“¥ 3ë‹¨ê³„: ë°±ì—… ë°ì´í„° ë³µì›...
ğŸ”§ ë³µì› ì¿¼ë¦¬: 
      INSERT INTO stores (id, name, category, is_open, rating_average, review_count, favorite_count, description, created_at)
      SELECT id, name, category, is_open, rating_average, review_count, favorite_count, description, created_at
      FROM stores_backup
      ORDER BY id
    
âœ… stores ë°ì´í„° ë³µì› ì™„ë£Œ: 101ê°œ ë§¤ì¥
ğŸ”— 4ë‹¨ê³„: ê´€ë ¨ í…Œì´ë¸”ë“¤ í™•ì¸...
  âœ… store_address: 5ê°œ ë ˆì½”ë“œ
  âœ… store_tables: 25ê°œ ë ˆì½”ë“œ
  âœ… store_hours: 0ê°œ ë ˆì½”ë“œ
  âœ… store_holidays: 0ê°œ ë ˆì½”ë“œ
  âœ… store_promotions: 50ê°œ ë ˆì½”ë“œ
  âœ… menu_groups: 0ê°œ ë ˆì½”ë“œ
  âœ… menu_items: 0ê°œ ë ˆì½”ë“œ
  âœ… prep_stations: 0ê°œ ë ˆì½”ë“œ
  âœ… reviews: 0ê°œ ë ˆì½”ë“œ
  âœ… favorites: 0ê°œ ë ˆì½”ë“œ
  âœ… orders: 0ê°œ ë ˆì½”ë“œ
  âœ… reservations: 0ê°œ ë ˆì½”ë“œ
  âœ… waitlists: 0ê°œ ë ˆì½”ë“œ
  âŒ user_paid_orders: í…Œì´ë¸” ì—†ìŒ
  âœ… carts: 0ê°œ ë ˆì½”ë“œ
  âœ… checks: 0ê°œ ë ˆì½”ë“œ
ğŸ§¹ 5ë‹¨ê³„: ê³ ì•„ ë ˆì½”ë“œ ì •ë¦¬...
  âœ… store_address: ê³ ì•„ ë ˆì½”ë“œ ì—†ìŒ
  âœ… store_tables: ê³ ì•„ ë ˆì½”ë“œ ì—†ìŒ
  âœ… store_hours: ê³ ì•„ ë ˆì½”ë“œ ì—†ìŒ
  âœ… store_holidays: ê³ ì•„ ë ˆì½”ë“œ ì—†ìŒ
  âœ… store_promotions: ê³ ì•„ ë ˆì½”ë“œ ì—†ìŒ
  âœ… menu_groups: ê³ ì•„ ë ˆì½”ë“œ ì—†ìŒ
  âœ… menu_items: ê³ ì•„ ë ˆì½”ë“œ ì—†ìŒ
  âœ… prep_stations: ê³ ì•„ ë ˆì½”ë“œ ì—†ìŒ
  âœ… reviews: ê³ ì•„ ë ˆì½”ë“œ ì—†ìŒ
  âœ… favorites: ê³ ì•„ ë ˆì½”ë“œ ì—†ìŒ
  âš ï¸ orders: ì •ë¦¬ ì‹¤íŒ¨ - column "store_id" does not exist
  âš ï¸ reservations: ì •ë¦¬ ì‹¤íŒ¨ - current transaction is aborted, commands ignored until end of transaction block
  âš ï¸ waitlists: ì •ë¦¬ ì‹¤íŒ¨ - current transaction is aborted, commands ignored until end of transaction block
  âš ï¸ carts: ì •ë¦¬ ì‹¤íŒ¨ - current transaction is aborted, commands ignored until end of transaction block
  âš ï¸ checks: ì •ë¦¬ ì‹¤íŒ¨ - current transaction is aborted, commands ignored until end of transaction block
ğŸ—ï¸ 6ë‹¨ê³„: í•„ìˆ˜ í…Œì´ë¸” ë°ì´í„° ë³´ì¥...
âŒ ì°¸ì¡°ê´€ê³„ ë³µì› ì‹¤íŒ¨: error: current transaction is aborted, commands ignored until end of transaction block
    at /home/runner/workspace/node_modules/pg/lib/client.js:545:17
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async restoreStoresRelationships (/home/runner/workspace/scripts/database/restore-stores-relationships.js:200:32) {
  length: 144,
  severity: 'ERROR',
  code: '25P02',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'postgres.c',
  line: '1142',
  routine: 'exec_simple_query'
}
ğŸ”„ ë¡¤ë°± ì¤‘...
âœ… ë¡¤ë°± ì™„ë£Œ - ë³€ê²½ì‚¬í•­ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.
node:internal/process/promises:391
    triggerUncaughtException(err, true /* fromPromise */);
    ^

error: current transaction is aborted, commands ignored until end of transaction block
    at /home/runner/workspace/node_modules/pg/lib/client.js:545:17
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async restoreStoresRelationships (/home/runner/workspace/scripts/database/restore-stores-relationships.js:200:32) {
  length: 144,
  severity: 'ERROR',
  code: '25P02',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'postgres.c',
  line: '1142',
  routine: 'exec_simple_query'
}

Node.js v20.19.3