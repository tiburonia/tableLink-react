=== ğŸš€ TableLink ì„œë²„ ì‹œì‘ ===
ğŸ“ í¬íŠ¸: 5000
ğŸŒ ì ‘ì† URL: http://localhost:5000
ğŸ”§ í™˜ê²½: development
ğŸ“Š ë©”ëª¨ë¦¬: 14MB
ğŸ—ï¸ ì‹œìŠ¤í…œ: POS/TLL/KRP í†µí•©
ğŸ”Œ WebSocket: í™œì„±í™”
ğŸ“¡ PostgreSQL: ì—°ê²°ë¨
=== âœ… ì„œë²„ ì¤€ë¹„ ì™„ë£Œ ===

ğŸ¯ ê°œë³„ ë§¤ì¥ ì „ìš© API: ë ˆë²¨ 4, bbox: 126.97425718122135,37.576364864798336,126.97425718122135,37.576364864798336
ğŸ” ë§¤ì¥ ì¡°íšŒ ì‹œì‘ - bbox: [126.97425718122135, 37.576364864798336, 126.97425718122135, 37.576364864798336]
ğŸ¯ ê°œë³„ ë§¤ì¥ ì „ìš© API: ë ˆë²¨ 3, bbox: 126.97579864987446,37.570553773975035,126.97579864987446,37.570553773975035
ğŸ” ë§¤ì¥ ì¡°íšŒ ì‹œì‘ - bbox: [126.97579864987446, 37.570553773975035, 126.97579864987446, 37.570553773975035]
ğŸ¯ ê°œë³„ ë§¤ì¥ ì „ìš© API: ë ˆë²¨ 3, bbox: 126.97522429170957,37.56166983435499,126.97961363947854,37.56953636960293
ğŸ” ë§¤ì¥ ì¡°íšŒ ì‹œì‘ - bbox: [126.97522429170957, 37.56166983435499, 126.97961363947854, 37.56953636960293]
âœ… PostgreSQL ì—°ê²° ì„±ê³µ
âœ… PostgreSQL ì—°ê²° ì„±ê³µ
ğŸ“Š ì „ì²´ ë§¤ì¥ ìˆ˜: 500
ğŸ“Š ì „ì²´ ë§¤ì¥ ìˆ˜: 500
ğŸ“ bbox ì˜ì—­ ë‚´ ë§¤ì¥ ìˆ˜: 0
ğŸ“ DB ì¢Œí‘œ ë²”ìœ„: lng(null ~ null), lat(null ~ null)
ğŸ” ì‹¤í–‰í•  SQL ì¿¼ë¦¬: 
    WITH viewport AS (
      SELECT ST_MakeEnvelope($1, $2, $3, $4, 4326) AS box
    )
    SELECT
      'individual' AS kind,
      sa.store_id as id,
      sa.store_id as store_id, -- ëª…ì‹œì ìœ¼ë¡œ store_idë„ í¬í•¨
      si.name,
      si.category,
      -- ì„œë²„ì—ì„œ ë³„ì  ì²˜ë¦¬
      COALESCE(si.rating_average, 0)::numeric(3,1) as rating_average,
      COALESCE(si.review_count, 0) as review_count,
      s.is_open,
      ST_X(sa.geom) AS lng,
      ST_Y(sa.geom) AS lat,
      -- ì£¼ì†Œ ì¡°í•©ì„ ì„œë²„ì—ì„œ ì²˜ë¦¬
      CONCAT_WS(' ', sa.sido, sa.sigungu, sa.eupmyeondong) as full_address,
      sa.sido,
      sa.sigungu,
      sa.eupmyeondong,
      -- ì„œë²„ì—ì„œ ì¹´í…Œê³ ë¦¬ ì•„ì´ì½˜ ë§¤í•‘
      CASE 
        WHEN si.category LIKE '%í•œì‹%' THEN 'ğŸš'
        WHEN si.category LIKE '%ì¤‘ì‹%' THEN 'ğŸ¥¢'
        WHEN si.category LIKE '%ì¼ì‹%' THEN 'ğŸ£'
        WHEN si.category LIKE '%ì–‘ì‹%' THEN 'ğŸ'
        WHEN si.category LIKE '%ì¹˜í‚¨%' THEN 'ğŸ—'
        WHEN si.category LIKE '%í”¼ì%' THEN 'ğŸ•'
        WHEN si.category LIKE '%ë²„ê±°%' THEN 'ğŸ”'
        WHEN si.category LIKE '%ì¹´í˜%' THEN 'â˜•'
        WHEN si.category LIKE '%ë””ì €íŠ¸%' THEN 'ğŸ°'
        WHEN si.category LIKE '%ë¶„ì‹%' THEN 'ğŸœ'
        WHEN si.category LIKE '%ì¡±ë°œ%' OR si.category LIKE '%ë³´ìŒˆ%' THEN 'ğŸ¦¶'
        WHEN si.category LIKE '%ë°”ë² í%' THEN 'ğŸ¥©'
        WHEN si.category LIKE '%í•´ì‚°ë¬¼%' THEN 'ğŸ¦'
        WHEN si.category LIKE '%ì•„ì‹œì•ˆ%' THEN 'ğŸ›'
        WHEN si.category LIKE '%íŒ¨ìŠ¤íŠ¸í‘¸ë“œ%' THEN 'ğŸŸ'
        WHEN si.category LIKE '%ìˆ ì§‘%' THEN 'ğŸº'
        ELSE 'ğŸ½ï¸'
      END as category_icon
    FROM store_addresses sa
    JOIN stores s ON s.id = sa.store_id
    LEFT JOIN store_info si ON si.store_id = sa.store_id
    CROSS JOIN viewport v
    WHERE sa.geom && v.box
      AND ST_Intersects(sa.geom, v.box)
    ORDER BY s.is_open DESC, si.rating_average DESC NULLS LAST
    LIMIT 2000
  
ğŸ“ bbox ì˜ì—­ ë‚´ ë§¤ì¥ ìˆ˜: 0
ğŸ“ DB ì¢Œí‘œ ë²”ìœ„: lng(null ~ null), lat(null ~ null)
ğŸ” ì‹¤í–‰í•  SQL ì¿¼ë¦¬: 
    WITH viewport AS (
      SELECT ST_MakeEnvelope($1, $2, $3, $4, 4326) AS box
    )
    SELECT
      'individual' AS kind,
      sa.store_id as id,
      sa.store_id as store_id, -- ëª…ì‹œì ìœ¼ë¡œ store_idë„ í¬í•¨
      si.name,
      si.category,
      -- ì„œë²„ì—ì„œ ë³„ì  ì²˜ë¦¬
      COALESCE(si.rating_average, 0)::numeric(3,1) as rating_average,
      COALESCE(si.review_count, 0) as review_count,
      s.is_open,
      ST_X(sa.geom) AS lng,
      ST_Y(sa.geom) AS lat,
      -- ì£¼ì†Œ ì¡°í•©ì„ ì„œë²„ì—ì„œ ì²˜ë¦¬
      CONCAT_WS(' ', sa.sido, sa.sigungu, sa.eupmyeondong) as full_address,
      sa.sido,
      sa.sigungu,
      sa.eupmyeondong,
      -- ì„œë²„ì—ì„œ ì¹´í…Œê³ ë¦¬ ì•„ì´ì½˜ ë§¤í•‘
      CASE 
        WHEN si.category LIKE '%í•œì‹%' THEN 'ğŸš'
        WHEN si.category LIKE '%ì¤‘ì‹%' THEN 'ğŸ¥¢'
        WHEN si.category LIKE '%ì¼ì‹%' THEN 'ğŸ£'
        WHEN si.category LIKE '%ì–‘ì‹%' THEN 'ğŸ'
        WHEN si.category LIKE '%ì¹˜í‚¨%' THEN 'ğŸ—'
        WHEN si.category LIKE '%í”¼ì%' THEN 'ğŸ•'
        WHEN si.category LIKE '%ë²„ê±°%' THEN 'ğŸ”'
        WHEN si.category LIKE '%ì¹´í˜%' THEN 'â˜•'
        WHEN si.category LIKE '%ë””ì €íŠ¸%' THEN 'ğŸ°'
        WHEN si.category LIKE '%ë¶„ì‹%' THEN 'ğŸœ'
        WHEN si.category LIKE '%ì¡±ë°œ%' OR si.category LIKE '%ë³´ìŒˆ%' THEN 'ğŸ¦¶'
        WHEN si.category LIKE '%ë°”ë² í%' THEN 'ğŸ¥©'
        WHEN si.category LIKE '%í•´ì‚°ë¬¼%' THEN 'ğŸ¦'
        WHEN si.category LIKE '%ì•„ì‹œì•ˆ%' THEN 'ğŸ›'
        WHEN si.category LIKE '%íŒ¨ìŠ¤íŠ¸í‘¸ë“œ%' THEN 'ğŸŸ'
        WHEN si.category LIKE '%ìˆ ì§‘%' THEN 'ğŸº'
        ELSE 'ğŸ½ï¸'
      END as category_icon
    FROM store_addresses sa
    JOIN stores s ON s.id = sa.store_id
    LEFT JOIN store_info si ON si.store_id = sa.store_id
    CROSS JOIN viewport v
    WHERE sa.geom && v.box
      AND ST_Intersects(sa.geom, v.box)
    ORDER BY s.is_open DESC, si.rating_average DESC NULLS LAST
    LIMIT 2000
  
âœ… PostgreSQL ì—°ê²° ì„±ê³µ
âœ… PostgreSQL ì—°ê²° í…ŒìŠ¤íŠ¸ ì„±ê³µ
ğŸ“Š ì¿¼ë¦¬ ê²°ê³¼: 0ê°œ ë§¤ì¥ ì¡°íšŒë¨
âŒ ì£¼ ì¿¼ë¦¬ ê²°ê³¼ ì—†ìŒ - ëŒ€ì•ˆ ì¿¼ë¦¬ ì‹¤í–‰
ğŸ“Š ì¿¼ë¦¬ ê²°ê³¼: 0ê°œ ë§¤ì¥ ì¡°íšŒë¨
âŒ ì£¼ ì¿¼ë¦¬ ê²°ê³¼ ì—†ìŒ - ëŒ€ì•ˆ ì¿¼ë¦¬ ì‹¤í–‰
ğŸ“ ê°„ë‹¨í•œ ì¿¼ë¦¬ ê²°ê³¼: 0ê°œ
ğŸ“ ê°„ë‹¨í•œ ì¿¼ë¦¬ ê²°ê³¼: 0ê°œ
âŒ ê°œë³„ ë§¤ì¥ API ì˜¤ë¥˜: error: ST_Distance: Operation on mixed SRID geometries (Point, 4326) != (Point, 0)
    at /home/runner/workspace/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIndividualStores (/home/runner/workspace/src/routes/stores-clusters.js:162:27)
    at async /home/runner/workspace/src/routes/stores-clusters.js:23:20 {
  length: 131,
  severity: 'ERROR',
  code: 'XX000',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'lwgeom_pg.c',
  line: '345',
  routine: 'pg_error'
}
âŒ ê°œë³„ ë§¤ì¥ API ì˜¤ë¥˜: error: ST_Distance: Operation on mixed SRID geometries (Point, 4326) != (Point, 0)
    at /home/runner/workspace/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIndividualStores (/home/runner/workspace/src/routes/stores-clusters.js:162:27)
    at async /home/runner/workspace/src/routes/stores-clusters.js:23:20 {
  length: 131,
  severity: 'ERROR',
  code: 'XX000',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'lwgeom_pg.c',
  line: '345',
  routine: 'pg_error'
}
âœ… PostgreSQL LISTEN ì„¤ì • ì™„ë£Œ - 4ê°œ ì±„ë„ êµ¬ë…
âœ… PostgreSQL ì—°ê²° ì„±ê³µ
ğŸ“Š ì „ì²´ ë§¤ì¥ ìˆ˜: 500
ğŸ“ bbox ì˜ì—­ ë‚´ ë§¤ì¥ ìˆ˜: 0
ğŸ“ DB ì¢Œí‘œ ë²”ìœ„: lng(null ~ null), lat(null ~ null)
ğŸ” ì‹¤í–‰í•  SQL ì¿¼ë¦¬: 
    WITH viewport AS (
      SELECT ST_MakeEnvelope($1, $2, $3, $4, 4326) AS box
    )
    SELECT
      'individual' AS kind,
      sa.store_id as id,
      sa.store_id as store_id, -- ëª…ì‹œì ìœ¼ë¡œ store_idë„ í¬í•¨
      si.name,
      si.category,
      -- ì„œë²„ì—ì„œ ë³„ì  ì²˜ë¦¬
      COALESCE(si.rating_average, 0)::numeric(3,1) as rating_average,
      COALESCE(si.review_count, 0) as review_count,
      s.is_open,
      ST_X(sa.geom) AS lng,
      ST_Y(sa.geom) AS lat,
      -- ì£¼ì†Œ ì¡°í•©ì„ ì„œë²„ì—ì„œ ì²˜ë¦¬
      CONCAT_WS(' ', sa.sido, sa.sigungu, sa.eupmyeondong) as full_address,
      sa.sido,
      sa.sigungu,
      sa.eupmyeondong,
      -- ì„œë²„ì—ì„œ ì¹´í…Œê³ ë¦¬ ì•„ì´ì½˜ ë§¤í•‘
      CASE 
        WHEN si.category LIKE '%í•œì‹%' THEN 'ğŸš'
        WHEN si.category LIKE '%ì¤‘ì‹%' THEN 'ğŸ¥¢'
        WHEN si.category LIKE '%ì¼ì‹%' THEN 'ğŸ£'
        WHEN si.category LIKE '%ì–‘ì‹%' THEN 'ğŸ'
        WHEN si.category LIKE '%ì¹˜í‚¨%' THEN 'ğŸ—'
        WHEN si.category LIKE '%í”¼ì%' THEN 'ğŸ•'
        WHEN si.category LIKE '%ë²„ê±°%' THEN 'ğŸ”'
        WHEN si.category LIKE '%ì¹´í˜%' THEN 'â˜•'
        WHEN si.category LIKE '%ë””ì €íŠ¸%' THEN 'ğŸ°'
        WHEN si.category LIKE '%ë¶„ì‹%' THEN 'ğŸœ'
        WHEN si.category LIKE '%ì¡±ë°œ%' OR si.category LIKE '%ë³´ìŒˆ%' THEN 'ğŸ¦¶'
        WHEN si.category LIKE '%ë°”ë² í%' THEN 'ğŸ¥©'
        WHEN si.category LIKE '%í•´ì‚°ë¬¼%' THEN 'ğŸ¦'
        WHEN si.category LIKE '%ì•„ì‹œì•ˆ%' THEN 'ğŸ›'
        WHEN si.category LIKE '%íŒ¨ìŠ¤íŠ¸í‘¸ë“œ%' THEN 'ğŸŸ'
        WHEN si.category LIKE '%ìˆ ì§‘%' THEN 'ğŸº'
        ELSE 'ğŸ½ï¸'
      END as category_icon
    FROM store_addresses sa
    JOIN stores s ON s.id = sa.store_id
    LEFT JOIN store_info si ON si.store_id = sa.store_id
    CROSS JOIN viewport v
    WHERE sa.geom && v.box
      AND ST_Intersects(sa.geom, v.box)
    ORDER BY s.is_open DESC, si.rating_average DESC NULLS LAST
    LIMIT 2000
  
ğŸ“Š ì¿¼ë¦¬ ê²°ê³¼: 0ê°œ ë§¤ì¥ ì¡°íšŒë¨
âŒ ì£¼ ì¿¼ë¦¬ ê²°ê³¼ ì—†ìŒ - ëŒ€ì•ˆ ì¿¼ë¦¬ ì‹¤í–‰
ğŸ“ ê°„ë‹¨í•œ ì¿¼ë¦¬ ê²°ê³¼: 0ê°œ
âŒ ê°œë³„ ë§¤ì¥ API ì˜¤ë¥˜: error: ST_Distance: Operation on mixed SRID geometries (Point, 4326) != (Point, 0)
    at /home/runner/workspace/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIndividualStores (/home/runner/workspace/src/routes/stores-clusters.js:162:27)
    at async /home/runner/workspace/src/routes/stores-clusters.js:23:20 {
  length: 131,
  severity: 'ERROR',
  code: 'XX000',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'lwgeom_pg.c',
  line: '345',
  routine: 'pg_error'
}
ğŸ¯ ê°œë³„ ë§¤ì¥ ì „ìš© API: ë ˆë²¨ 3, bbox: 126.97439863716171,37.55997578422389,126.97878779878545,37.56784235237234
ğŸ” ë§¤ì¥ ì¡°íšŒ ì‹œì‘ - bbox: [126.97439863716171, 37.55997578422389, 126.97878779878545, 37.56784235237234]
ğŸ“Š ì „ì²´ ë§¤ì¥ ìˆ˜: 500
ğŸ“ bbox ì˜ì—­ ë‚´ ë§¤ì¥ ìˆ˜: 0
ğŸ“ DB ì¢Œí‘œ ë²”ìœ„: lng(null ~ null), lat(null ~ null)
ğŸ” ì‹¤í–‰í•  SQL ì¿¼ë¦¬: 
    WITH viewport AS (
      SELECT ST_MakeEnvelope($1, $2, $3, $4, 4326) AS box
    )
    SELECT
      'individual' AS kind,
      sa.store_id as id,
      sa.store_id as store_id, -- ëª…ì‹œì ìœ¼ë¡œ store_idë„ í¬í•¨
      si.name,
      si.category,
      -- ì„œë²„ì—ì„œ ë³„ì  ì²˜ë¦¬
      COALESCE(si.rating_average, 0)::numeric(3,1) as rating_average,
      COALESCE(si.review_count, 0) as review_count,
      s.is_open,
      ST_X(sa.geom) AS lng,
      ST_Y(sa.geom) AS lat,
      -- ì£¼ì†Œ ì¡°í•©ì„ ì„œë²„ì—ì„œ ì²˜ë¦¬
      CONCAT_WS(' ', sa.sido, sa.sigungu, sa.eupmyeondong) as full_address,
      sa.sido,
      sa.sigungu,
      sa.eupmyeondong,
      -- ì„œë²„ì—ì„œ ì¹´í…Œê³ ë¦¬ ì•„ì´ì½˜ ë§¤í•‘
      CASE 
        WHEN si.category LIKE '%í•œì‹%' THEN 'ğŸš'
        WHEN si.category LIKE '%ì¤‘ì‹%' THEN 'ğŸ¥¢'
        WHEN si.category LIKE '%ì¼ì‹%' THEN 'ğŸ£'
        WHEN si.category LIKE '%ì–‘ì‹%' THEN 'ğŸ'
        WHEN si.category LIKE '%ì¹˜í‚¨%' THEN 'ğŸ—'
        WHEN si.category LIKE '%í”¼ì%' THEN 'ğŸ•'
        WHEN si.category LIKE '%ë²„ê±°%' THEN 'ğŸ”'
        WHEN si.category LIKE '%ì¹´í˜%' THEN 'â˜•'
        WHEN si.category LIKE '%ë””ì €íŠ¸%' THEN 'ğŸ°'
        WHEN si.category LIKE '%ë¶„ì‹%' THEN 'ğŸœ'
        WHEN si.category LIKE '%ì¡±ë°œ%' OR si.category LIKE '%ë³´ìŒˆ%' THEN 'ğŸ¦¶'
        WHEN si.category LIKE '%ë°”ë² í%' THEN 'ğŸ¥©'
        WHEN si.category LIKE '%í•´ì‚°ë¬¼%' THEN 'ğŸ¦'
        WHEN si.category LIKE '%ì•„ì‹œì•ˆ%' THEN 'ğŸ›'
        WHEN si.category LIKE '%íŒ¨ìŠ¤íŠ¸í‘¸ë“œ%' THEN 'ğŸŸ'
        WHEN si.category LIKE '%ìˆ ì§‘%' THEN 'ğŸº'
        ELSE 'ğŸ½ï¸'
      END as category_icon
    FROM store_addresses sa
    JOIN stores s ON s.id = sa.store_id
    LEFT JOIN store_info si ON si.store_id = sa.store_id
    CROSS JOIN viewport v
    WHERE sa.geom && v.box
      AND ST_Intersects(sa.geom, v.box)
    ORDER BY s.is_open DESC, si.rating_average DESC NULLS LAST
    LIMIT 2000
  
ğŸ“Š ì¿¼ë¦¬ ê²°ê³¼: 0ê°œ ë§¤ì¥ ì¡°íšŒë¨
âŒ ì£¼ ì¿¼ë¦¬ ê²°ê³¼ ì—†ìŒ - ëŒ€ì•ˆ ì¿¼ë¦¬ ì‹¤í–‰
ğŸ“ ê°„ë‹¨í•œ ì¿¼ë¦¬ ê²°ê³¼: 0ê°œ
âŒ ê°œë³„ ë§¤ì¥ API ì˜¤ë¥˜: error: ST_Distance: Operation on mixed SRID geometries (Point, 4326) != (Point, 0)
    at /home/runner/workspace/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIndividualStores (/home/runner/workspace/src/routes/stores-clusters.js:162:27)
    at async /home/runner/workspace/src/routes/stores-clusters.js:23:20 {
  length: 131,
  severity: 'ERROR',
  code: 'XX000',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'lwgeom_pg.c',
  line: '345',
  routine: 'pg_error'
}
ğŸ¯ ê°œë³„ ë§¤ì¥ ì „ìš© API: ë ˆë²¨ 3, bbox: 126.97439863716171,37.55997578422389,126.97878779878545,37.56784235237234
ğŸ” ë§¤ì¥ ì¡°íšŒ ì‹œì‘ - bbox: [126.97439863716171, 37.55997578422389, 126.97878779878545, 37.56784235237234]
âœ… PostgreSQL ì—°ê²° ì„±ê³µ
ğŸ“Š ì „ì²´ ë§¤ì¥ ìˆ˜: 500
ğŸ“ bbox ì˜ì—­ ë‚´ ë§¤ì¥ ìˆ˜: 0
ğŸ“ DB ì¢Œí‘œ ë²”ìœ„: lng(null ~ null), lat(null ~ null)
ğŸ” ì‹¤í–‰í•  SQL ì¿¼ë¦¬: 
    WITH viewport AS (
      SELECT ST_MakeEnvelope($1, $2, $3, $4, 4326) AS box
    )
    SELECT
      'individual' AS kind,
      sa.store_id as id,
      sa.store_id as store_id, -- ëª…ì‹œì ìœ¼ë¡œ store_idë„ í¬í•¨
      si.name,
      si.category,
      -- ì„œë²„ì—ì„œ ë³„ì  ì²˜ë¦¬
      COALESCE(si.rating_average, 0)::numeric(3,1) as rating_average,
      COALESCE(si.review_count, 0) as review_count,
      s.is_open,
      ST_X(sa.geom) AS lng,
      ST_Y(sa.geom) AS lat,
      -- ì£¼ì†Œ ì¡°í•©ì„ ì„œë²„ì—ì„œ ì²˜ë¦¬
      CONCAT_WS(' ', sa.sido, sa.sigungu, sa.eupmyeondong) as full_address,
      sa.sido,
      sa.sigungu,
      sa.eupmyeondong,
      -- ì„œë²„ì—ì„œ ì¹´í…Œê³ ë¦¬ ì•„ì´ì½˜ ë§¤í•‘
      CASE 
        WHEN si.category LIKE '%í•œì‹%' THEN 'ğŸš'
        WHEN si.category LIKE '%ì¤‘ì‹%' THEN 'ğŸ¥¢'
        WHEN si.category LIKE '%ì¼ì‹%' THEN 'ğŸ£'
        WHEN si.category LIKE '%ì–‘ì‹%' THEN 'ğŸ'
        WHEN si.category LIKE '%ì¹˜í‚¨%' THEN 'ğŸ—'
        WHEN si.category LIKE '%í”¼ì%' THEN 'ğŸ•'
        WHEN si.category LIKE '%ë²„ê±°%' THEN 'ğŸ”'
        WHEN si.category LIKE '%ì¹´í˜%' THEN 'â˜•'
        WHEN si.category LIKE '%ë””ì €íŠ¸%' THEN 'ğŸ°'
        WHEN si.category LIKE '%ë¶„ì‹%' THEN 'ğŸœ'
        WHEN si.category LIKE '%ì¡±ë°œ%' OR si.category LIKE '%ë³´ìŒˆ%' THEN 'ğŸ¦¶'
        WHEN si.category LIKE '%ë°”ë² í%' THEN 'ğŸ¥©'
        WHEN si.category LIKE '%í•´ì‚°ë¬¼%' THEN 'ğŸ¦'
        WHEN si.category LIKE '%ì•„ì‹œì•ˆ%' THEN 'ğŸ›'
        WHEN si.category LIKE '%íŒ¨ìŠ¤íŠ¸í‘¸ë“œ%' THEN 'ğŸŸ'
        WHEN si.category LIKE '%ìˆ ì§‘%' THEN 'ğŸº'
        ELSE 'ğŸ½ï¸'
      END as category_icon
    FROM store_addresses sa
    JOIN stores s ON s.id = sa.store_id
    LEFT JOIN store_info si ON si.store_id = sa.store_id
    CROSS JOIN viewport v
    WHERE sa.geom && v.box
      AND ST_Intersects(sa.geom, v.box)
    ORDER BY s.is_open DESC, si.rating_average DESC NULLS LAST
    LIMIT 2000
  
ğŸ“Š ì¿¼ë¦¬ ê²°ê³¼: 0ê°œ ë§¤ì¥ ì¡°íšŒë¨
âŒ ì£¼ ì¿¼ë¦¬ ê²°ê³¼ ì—†ìŒ - ëŒ€ì•ˆ ì¿¼ë¦¬ ì‹¤í–‰
ğŸ“ ê°„ë‹¨í•œ ì¿¼ë¦¬ ê²°ê³¼: 0ê°œ
âŒ ê°œë³„ ë§¤ì¥ API ì˜¤ë¥˜: error: ST_Distance: Operation on mixed SRID geometries (Point, 4326) != (Point, 0)
    at /home/runner/workspace/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getIndividualStores (/home/runner/workspace/src/routes/stores-clusters.js:162:27)
    at async /home/runner/workspace/src/routes/stores-clusters.js:23:20 {
  length: 131,
  severity: 'ERROR',
  code: 'XX000',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'lwgeom_pg.c',
  line: '345',
  routine: 'pg_error'