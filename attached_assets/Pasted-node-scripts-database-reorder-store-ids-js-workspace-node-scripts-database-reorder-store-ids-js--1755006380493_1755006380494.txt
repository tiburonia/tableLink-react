node scripts/database/reorder-store-ids.js
~/workspace$ node scripts/database/reorder-store-ids.js
âœ… PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° 
ğŸ”„ stores í…Œì´ë¸” ID ìˆœì°¨ ì¬ë°°ì—´ ì‹œì‘...
âœ… PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° 
ğŸ“Š ì´ ë§¤ì¥ ìˆ˜: 2062ê°œ
ğŸ“‹ í˜„ì¬ stores í…Œì´ë¸” êµ¬ì¡° í™•ì¸...
 í˜„ì¬ stores í…Œì´ë¸” ì»¬ëŸ¼:
  - id (integer)
  - name (character varying)
  - category (character varying)
  - menu (jsonb)
  - review_count (integer)
  - is_open (boolean)
  - created_at (timestamp without time zone)
  - rating_average (numeric)
  - address_update_status (character varying)
ğŸ“Š í˜„ì¬ ID ë²”ìœ„: 1 ~ 4560
ğŸ“‹ ê¸°ì¡´ ë§¤ì¥ ëª©ë¡ í™•ì¸: 2062ê°œ
ğŸ—ï¸ ì„ì‹œ ID ë§¤í•‘ í…Œì´ë¸” ìƒì„± ì¤‘...
âœ… ID ë§¤í•‘ ìƒì„± ì™„ë£Œ: 2062ê°œ
ğŸ”„ ê´€ë ¨ í…Œì´ë¸” store_id ì—…ë°ì´íŠ¸ ì‹œì‘...
ğŸ”„ reviews í…Œì´ë¸” store_id ì—…ë°ì´íŠ¸ ì¤‘...
âœ… reviews í…Œì´ë¸” ì—…ë°ì´íŠ¸ ì™„ë£Œ: 2ê°œ í–‰
ğŸ”„ orders í…Œì´ë¸” store_id ì—…ë°ì´íŠ¸ ì¤‘...
âœ… orders í…Œì´ë¸” ì—…ë°ì´íŠ¸ ì™„ë£Œ: 2ê°œ í–‰
ğŸ”„ store_tables í…Œì´ë¸” store_id ì—…ë°ì´íŠ¸ ì¤‘...
âŒ stores í…Œì´ë¸” ID ì¬ë°°ì—´ ì‹¤íŒ¨: error: insert or update on table "store_tables" violates foreign key constraint "store_tables_store_id_fkey"
    at /home/runner/workspace/node_modules/pg/lib/client.js:545:17
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async reorderStoreIds (/home/runner/workspace/scripts/database/reorder-store-ids.js:89:27) {
  length: 276,
  severity: 'ERROR',
  code: '23503',
  detail: 'Key (store_id)=(224) is not present in table "stores".',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'store_tables',
  column: undefined,
  dataType: undefined,
  constraint: 'store_tables_store_id_fkey',
  file: 'ri_triggers.c',
  line: '2608',
  routine: 'ri_ReportViolation'
}
âŒ ì—ëŸ¬ ì„¸ë¶€ì‚¬í•­: insert or update on table "store_tables" violates foreign key constraint "store_tables_store_id_fkey"
âŒ ì—ëŸ¬ ìŠ¤íƒ: error: insert or update on table "store_tables" violates foreign key constraint "store_tables_store_id_fkey"
    at /home/runner/workspace/node_modules/pg/lib/client.js:545:17
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async reorderStoreIds (/home/runner/workspace/scripts/database/reorder-store-ids.js:89:27)
ğŸ”„ íŠ¸ëœì­ì…˜ ë¡¤ë°± ì™„ë£Œ
~/workspace$ 