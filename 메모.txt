realCost ì£¼ë¬¸ ê°ì²´ë§ˆë‹¤ ì†ì„±ìœ¼ë¡œ ì¶”ê°€
í¬ì¸íŠ¸ ì ë¦½ ë¡œê·¸ ì¶”ê°€ -> ì£¼ë¬¸ ê°ì²´ë§ˆë‹¤ ëª‡ í¬ì¸íŠ¸ê°€ ì ë¦½ ë˜ì—ˆëŠ”ì§€ ìƒì„¸íˆ ë¡œê·¸ë‚¨ê¸°ê¸°
í• ì¸ëœ ê¸ˆì•¡ HTML ì¶”ê°€
discountCost ì†ì„± userInfoì— ì¶”ê°€
ì¦ê²¨ì°¾ê¸° ê¸°ëŠ¥ êµ¬í˜„ (í•˜íŠ¸ ë²„íŠ¼ ê¸°ë°˜)
ì¥ë°”êµ¬ë‹ˆ ê¸°ëŠ¥ êµ¬ì¡° ì„¤ê³„ ë° renderCart() ì‘ì„±
->ì¥ë°”êµ¬ë‹ˆ ê¸°ëŠ¥ì—ì„œ ë‹´ì„ìˆ˜ ìˆëŠ” ë©”ë‰´ëŠ” ê°€ê²Œ í•œê²Œì—ì„œë§Œ í• ìˆ˜ ìˆë„ë¡ í•˜ì
ê·¸ê²Œ êµ¬ì¡°ì ìœ¼ë¡œ ì˜³ë°”ë¥´ê²Œ ë³´ì¸ë‹¤


cssì½”ë“œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì™¸ë¶€ íŒŒì¼ë¡œ ê´€ë¦¬ í•˜ì§€ ì•Šê³  ìŠ¤í¬ë¦½íŠ¸ ë‚´ì—ì„œ ì²˜ë¦¬í•˜ëŠ” ê¸°ì¡°ë¡œ ë‹¨, ì£¼ì„ìœ¼ë¡œ styleì¸ê±¸ ëª…ì‹œ

í™•ì¥ì´ í•„ìš”í•´ì„œ í•„ì¹˜ëª»í•˜ê²Œ ì™¸ë¶€ íŒŒì¼ì„ ì‚¬ìš©í•˜ê²Œ ëœë‹¤ë©´
cssíŒŒì¼ëª…ì€ ìŠ¤í¬ë¦½íŠ¸ ëª…ìœ¼ë¡œ ê´€ë¦¬

 idì¤‘ë³µ ì˜¤ë¥˜ í™•ë¥  ê°ì†Œ ìœ„í•´ì„œ cssì½”ë“œëŠ” ìŠ¤í¬ë¦½íŠ¸ ë‚´ì—ì„œ 
 ì²˜ë¦¬í•˜ëŠ”ê²Œ ë‚«ë‹¤


 <div id="mapWrapper">
   <div id="map"></div>
 </div>

 <main id="content">
   <div id="storePanel">...</div>
 </main>



const renderStore = (store) => {
  main.innerHTML = `
    <header id="storeHeader">
      <button id="backBtn" onclick="renderMap()">â¬…ï¸</button>
      <button id="TLL">ğŸ“±</button>
      <div class="imgWrapper">
        <img src="TableLink2.png" alt="ë©”ë‰´ì´ë¯¸ì§€" />
      </div>
    </header>

    <main id="storeContent">
      <div id="storePanel" class="collapsed">
        <div id="panelHandle"></div>
        <div id="storePanelContainer">
          <p id="reviewScore">ì ìˆ˜</p>
          <p id="reviewStar">â˜…</p>
          <h2 id="storeName">${store.name}</h2>
          <button id="favoriteBtn" onclick="toggleFavorite('${store.name}')">â™¡</button>
          <div id="storeNav">
            <button onclick="renderMenu(store)">ë©”ë‰´</button>
            <button onclick="renderTakeout(store)">í¬ì¥</button>
            <button onclick="renderReservation(store)">ì˜ˆì•½</button>
            <button onclick="renderReview(store)">ë¦¬ë·°</button>
          </div>
        </div>
      </div>
    </main>

    <nav id="storeBottomBar">
      <button id="telephone">â˜ï¸</button>
      <button id="order">í¬ì¥ or ì˜ˆì•½</button>
    </nav>

    <style>
      html, body {
        margin: 0;
        padding: 0;
        height: 100%;
        font-family: sans-serif;
        background: #f8f8f8;
        overflow: hidden;
      }

      #storeHeader {
        position: fixed;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 100%;
        max-width: 430px;
        height: 200px;
        background: white;
        z-index: 1;;
      }

      .imgWrapper {
        width: 100%;
        height: 200px;
        overflow: hidden;
        position: relative;
      }

      .imgWrapper img {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-190px, -100px);
      }

      #backBtn, #TLL {
        position: absolute;
        top: 10px;
        width: 30px;
        height: 30px;
        background: white;
        border: none;
        font-size: 20px;
        cursor: pointer;
        z-index: 20;
      }

      #backBtn { left: 10px; }
      #TLL { right: 10px; }

      #storeContent {
        position: absolute;
        top: 0;
        bottom: 60px;
        left: 50%;
        transform: translateX(-50%);
        width: 100%;
        max-width: 430px;
        overflow: hidden;
        background: transparent; /* or background: none; */
        z-index: 0; /* í•„ìš”ì‹œ */


      }

      #storePanel {
        position: fixed;
        left: 50%;
        transform: translateX(-50%);
        width: 100%;
        max-width: 430px;
        background: white;
        box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        z-index: 11; /* ê¸°ë³¸ê°’ */
      }

      #storePanel.collapsed {
        top: 200px;
        bottom: 60px;
        height: calc(100vh - 260px);
        border-radius: 16px 16px 0 0;
      }

      #storePanel.expanded {
        top: 0;
        bottom: 60px;
        height: calc(100vh - 60px);
        border-radius: 0;
        z-index: 9999; /* ì´ë¯¸ì§€ ë®ëŠ” z-index */
      }

      #panelHandle {
        width: 60px;
        height: 8px;
        background: #ccc;
        border-radius: 4px;
        margin: 12px auto;
        cursor: grab;
        touch-action: none;
      }

      #storePanelContainer {
        position: relative;
        height: calc(100% - 24px);
        overflow-y: auto;
        padding: 12px 16px;
        box-sizing: border-box;
        overscroll-behavior: contain;
        -webkit-overflow-scrolling: touch;
      }

      #storePanelContainer::-webkit-scrollbar {
        width: 6px;
      }

      #storePanelContainer::-webkit-scrollbar-thumb {
        background: #ccc;
        border-radius: 3px;
      }

      #storeBottomBar {
        position: fixed;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 100%;
        max-width: 430px;
        height: 60px;
        background: white;
        border-top: 1px solid #ccc;
        display: flex;
        justify-content: space-around;
        align-items: center;
        z-index: 1000;
      }
    </style>
  `;

  document.querySelector('#TLL').addEventListener('click', () => {
    alert('QR ê²°ì œ ê¸°ëŠ¥ì€ ì•„ì§ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤');
  });

  const panel = document.getElementById('storePanel');
  const handle = document.getElementById('panelHandle');
  let startY = 0;
  let currentY = 0;
  let isDragging = false;

  function startDrag(y) {
    startY = y;
    isDragging = true;
    panel.style.transition = 'none';
  }

  function duringDrag(y) {
    if (!isDragging) return;
    currentY = y;
    const delta = startY - currentY;
    const baseTop = panel.classList.contains('expanded') ? 0 : 200;
    let newTop = baseTop - delta;
    newTop = Math.max(0, Math.min(200, newTop));
    panel.style.top = `${newTop}px`;
  }

  function endDrag() {
    isDragging = false;
    const delta = startY - currentY;
    panel.style.transition = 'all 0.3s ease';

    if (delta > 50) {
      panel.classList.remove('collapsed');
      panel.classList.add('expanded');
      panel.style.top = '0px';
    } else if (delta < -50) {
      panel.classList.remove('expanded');
      panel.classList.add('collapsed');
      panel.style.top = '200px';
    } else {
      const isExpanded = panel.classList.contains('expanded');
      panel.style.top = isExpanded ? '0px' : '200px';
    }
  }

  [panel, handle].forEach(el => {
    el.addEventListener('touchstart', e => {
      e.preventDefault();
      startDrag(e.touches[0].clientY);
    }, { passive: false });

    el.addEventListener('touchmove', e => {
      e.preventDefault();
      duringDrag(e.touches[0].clientY);
    }, { passive: false });

    el.addEventListener('touchend', endDrag);
    el.addEventListener('mousedown', e => startDrag(e.clientY));
  });

  document.addEventListener('mousemove', e => duringDrag(e.clientY));
  document.addEventListener('mouseup', endDrag);
};